<!DOCTYPE html><html class="__variable_872b5f m-0 h-full p-0 font-sans antialiased" lang="zh-CN"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/blog/_next/static/media/3534416bbfdcc9be-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/blog/_next/static/media/a34f9d1faa5f3315-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/blog/_next/static/css/0e48527f3eb7181c.css" data-precedence="next"/><link rel="stylesheet" href="/blog/_next/static/css/cc5160e2067b0cef.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/blog/_next/static/chunks/webpack-87c756ce837eff6d.js"/><script src="/blog/_next/static/chunks/f064a1f5-a0f684639c5e404a.js" async=""></script><script src="/blog/_next/static/chunks/904-3c4958c40d38e534.js" async=""></script><script src="/blog/_next/static/chunks/main-app-7d4b4602e3445646.js" async=""></script><script src="/blog/_next/static/chunks/779-51e1b779352a73d2.js" async=""></script><script src="/blog/_next/static/chunks/139-77f6f55694c8cac3.js" async=""></script><script src="/blog/_next/static/chunks/138-7f27ef5cd2caf4b4.js" async=""></script><script src="/blog/_next/static/chunks/857-68a2fd358cb70760.js" async=""></script><script src="/blog/_next/static/chunks/892-e0ec958e7d2667d6.js" async=""></script><script src="/blog/_next/static/chunks/app/(app)/posts/%5Bid%5D/page-1b18d48266a440a6.js" async=""></script><script src="/blog/_next/static/chunks/534-df7b43d9be725930.js" async=""></script><script src="/blog/_next/static/chunks/457-dc33665ac60cfba8.js" async=""></script><script src="/blog/_next/static/chunks/868-9c31f7c0009643d5.js" async=""></script><script src="/blog/_next/static/chunks/app/(app)/layout-92bc512e2cb186d0.js" async=""></script><script src="/blog/_next/static/chunks/245-4d9cc7d916e46c69.js" async=""></script><script src="/blog/_next/static/chunks/app/layout-c1f6a3e37ec77367.js" async=""></script><script src="/blog/_next/static/chunks/app/not-found-e85be02af3c0f84e.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=123" as="script"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000212"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fafafa"/><title>搭建前端脚手架（上） | William Sun</title><meta name="description" content="搭建前端脚手架（上） - William Sun"/><link rel="manifest" href="/site.webmanifest" crossorigin="use-credentials"/><meta name="keywords" content="前端工程化"/><meta name="baidu-site-verification" content="codeva-7AmpPWgzQY"/><meta name="google-site-verification" content="TTbfOvWmLj0icfk0BQNUZB3crwReji82Q_vRdnZFFAc"/><link rel="canonical" href="http://localhost:3000/posts/post-45"/><link rel="alternate" type="application/rss+xml" title="RSS 订阅" href="https://luckysnail.cn/rss"/><meta property="og:title" content="搭建前端脚手架（上）"/><meta property="og:description" content="搭建前端脚手架（上） - William Sun"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@haozhan05554957"/><meta name="twitter:title" content="William Sunblog | 前端 | 开发者"/><meta name="twitter:description" content="我是William Sun，一名充满热情的前端开发工程师。我热衷于探索和体验最新技术，特别是人工智能（AI），并在日常工作中去使用它们，来提升我的工作效率。我的目标是积极参与开源社区，为开源项目贡献自己的力量。正如我的名字，我相信越努力，越幸运"/><meta name="twitter:image" content="https://luckysnail.cn/og.png"/><link rel="icon" href="/blog/favicon.ico" type="image/x-icon" sizes="32x32"/><link rel="icon" href="/blog/icon.jpg?021a5ddd40907a91" type="image/jpeg" sizes="256x256"/><link rel="apple-touch-icon" href="/blog/apple-icon.jpg?58f0c05bf91c4519" type="image/jpeg" sizes="1022x1023"/><meta name="next-size-adjust"/><script src="/blog/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_0cd39b"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="z-[-1] absolute bottom-0 left-0 right-0 top-0 bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:14px_24px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"></div><div class="fixed inset-0 flex justify-center sm:px-8"><div class="flex w-full max-w-7xl lg:px-8"><div class="opacity-95 w-full bg-zinc-50/90 ring-1 ring-zinc-100 dark:bg-zinc-900/80 dark:ring-zinc-400/20"></div></div></div><div class="relative text-zinc-800 dark:text-zinc-200"><header class="pointer-events-none relative z-50 mb-[var(--header-mb,0px)] flex flex-col h-[var(--header-height,64px)]"><div class="top-0 z-10 h-16 pt-6" style="position:var(--header-position)"><div class="sm:px-8 top-[var(--header-top,theme(spacing.6))] w-full" style="position:var(--header-inner-position)"><div class="mx-auto max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="relative flex gap-4"><div class="flex flex-1" style="opacity:0;transform:translateY(15px)"><div><div class="h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10"><a aria-label="主页" class="pointer-events-auto" href="/blog"><img alt="" loading="lazy" width="256" height="256" decoding="async" data-nimg="1" class="rounded-full bg-zinc-100 object-cover dark:bg-zinc-800 h-9 w-9" style="color:transparent" src="/blog/_next/static/media/logo.d3f4655a.webp"/></a></div></div></div><div class="flex flex-1 justify-end md:justify-center"><button class="group flex items-center rounded-full bg-gradient-to-b from-zinc-50/20 to-white/80 px-4 py-2 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur-md focus:outline-none focus-visible:ring-2 dark:from-zinc-900/30 dark:to-zinc-800/80 dark:text-zinc-200 dark:ring-white/10 dark:hover:ring-white/20 dark:focus-visible:ring-yellow-500/80 pointer-events-auto relative z-50 md:hidden" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3abnqra:" data-state="closed">前往<svg viewBox="0 0 8 6" aria-hidden="true" class="ml-3 h-auto w-2 stroke-zinc-500 group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-400"><path d="M1.75 1.75 4 4.25l2.25-2.5" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><nav class="group rounded-full bg-gradient-to-b from-zinc-50/70 to-white/90 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur-md dark:from-zinc-900/70 dark:to-zinc-800/90 dark:ring-zinc-100/10 [--spotlight-color:rgb(236_252_203_/_0.6)] dark:[--spotlight-color:rgb(217_249_157_/_0.07)] pointer-events-auto relative z-50 hidden md:block"><div class="pointer-events-none absolute -inset-px rounded-full opacity-0 transition-opacity duration-500 group-hover:opacity-100" aria-hidden="true" style="background:radial-gradient(0px circle at 0px 0px, var(--spotlight-color) 0%, transparent 65%)"></div><ul class="flex bg-transparent px-3 text-sm font-medium text-zinc-800 dark:text-zinc-200 "><li class="relative block whitespace-nowrap px-3 py-2 transition hover:text-violet-500 dark:hover:text-violet-400"><a target="_self" href="/blog">首页</a></li><li class="relative block whitespace-nowrap px-3 py-2 transition hover:text-violet-500 dark:hover:text-violet-400"><a target="_self" href="/blog/posts">博客</a></li><li class="relative block whitespace-nowrap px-3 py-2 transition hover:text-violet-500 dark:hover:text-violet-400"><a target="_self" href="/blog/about">关于我</a></li></ul></nav></div><div class="flex justify-end gap-3 md:flex-1" style="opacity:0;transform:translateY(-20px) scale(0.95)"><div class="pointer-events-auto"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></div></div></div></div></div></div></div></header><main><!--$--><div class="sm:px-8 mt-10 lg:mt-16"><div class="mx-auto max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12 !px-0"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="w-full md:flex md:justify-between xl:relative gap-1"><aside class="hidden w-[160px] shrink-0 lg:block"><div class="sticky top-2 pt-16"><div class="toc-container"><h2 class="text-lg font-semibold mb-4">目录</h2><ul class="js-toc group pointer-events-auto flex flex-col space-y-2 text-zinc-500" style="opacity:0"></ul></div></div></aside><div class="max-w-4xl md:flex-1 md:shrink-0 "><a class="group mb-8 flex h-10 w-10 items-center justify-center bg-white dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:hover:border-zinc-700 lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0 group rounded-full bg-gradient-to-b from-zinc-50/50 to-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:from-zinc-900/50 dark:to-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20" aria-label="返回博客页面" href="/blog/posts"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400"><path d="M8.03089 4C6.57669 5.05865 5.2706 6.29537 4.14485 7.67887C4.04828 7.79755 4 7.94044 4 8.08333M8.03089 12.1667C6.57669 11.108 5.2706 9.8713 4.14485 8.4878C4.04828 8.36912 4 8.22623 4 8.08333M4 8.08333H14.963C17.7448 8.08333 20 10.3033 20 13.0417C20 15.7801 17.7448 18 14.963 18H12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a><article data-postid="data/blog/post-45.mdx" class="rich-text-viewer prose px-4"><div class="mb-8 text-center"><h1 class="text-3xl font-bold">搭建前端脚手架（上）</h1><div class="flex justify-center rounded-md  h-5 items-center space-x-4 text-sm"><time dateTime="2025-02-04T07:42:07.000Z" class="mb-1 text-xs text-gray-600">2025-02-04</time><div data-orientation="vertical" role="none" class="shrink-0 bg-border h-full w-[1px]"></div><span class="mb-1 text-xs text-gray-600 flex items-center"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mr-2"><path d="M10.1912 12.5508C10.3071 12.1942 10.3071 11.8058 10.1912 11.4492C9.22165 8.46673 4.40272 8.00546 4.01443 4.48436C3.93458 3.76031 4.18955 3.04013 4.69671 2.55723C5.28193 2 6.62415 2 9.30861 2H14.6914C17.3759 2 18.7181 2 19.3033 2.55723C19.8104 3.04013 20.0654 3.76031 19.9856 4.48436C19.5973 8.00546 14.7784 8.46673 13.8088 11.4492C13.6929 11.8058 13.6929 12.1942 13.8088 12.5508C14.7784 15.5333 19.5973 15.9945 19.9856 19.5156C20.0654 20.2397 19.8104 20.9599 19.3033 21.4428C18.7181 22 17.3758 22 14.6914 22L9.3086 22C6.62415 22 5.28192 22 4.69671 21.4428C4.18955 20.9599 3.93458 20.2397 4.01442 19.5156C4.40272 15.9945 9.22164 15.5333 10.1912 12.5508Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg> <!-- -->13<!-- --> 分钟</span></div><div class="flex w-full justify-center gap-2 mt-2"><span class="inline-flex items-center px-2 h-5 rounded-md text-xs  bg-gray-300 text-gray-800">前端工程化</span></div></div><div class="js-toc-content"><p>在学习 Vue 或者 React 的时候，我们应该都使用过它们的脚手架工具（<a href="https://github.com/vuejs/create-vue">create-vue</a>、<a href="https://github.com/facebook/create-react-app">create-react-app</a>）。通过脚手架我们能够快速得到一个 Vue 或者 React 项目，我们无需将经历花在了项目基础骨架搭建上，能够更加快速的开发业务</p>
<blockquote>
<p>为了让大家更好明白，我尝试通过场景来一步步讲明白脚手架搭建里面的”门道“，在场景中主人公 - 阿牛，一个不太会写代码的前端开发</p>
</blockquote>
<h2 id="脚手架是什么"><a class="anchor" href="#脚手架是什么">脚手架是什么？</a></h2>
<p>在开发自己的脚手架前，我们再认识一下脚手架吧！脚手架是：”一种工具或框架，用于快速生成项目的基础结构、配置文件和代码模板。它通常包含了一些预定义的目录结构、配置文件、依赖管理工具、构建工具等。脚手架的主要目的是减少重复劳动，提高开发效率，并确保项目结构的一致性。“</p>
<p>在前端开发中，脚手架工具通常会帮助我们完成以下任务：</p>
<ul>
<li>初始化项目目录结构</li>
<li>配置开发环境（如 Webpack、Babel、ESLint 等）</li>
<li>集成常用的库和工具（如 Vue、React、TypeScript 等）</li>
<li>提供代码模板和最佳实践</li>
</ul>
<p>使用脚手架，我们会得到一个预期的模版项目，这里已经集成了我们需要的基础设施</p>
<h2 id="脚手架解决了什么问题"><a class="anchor" href="#脚手架解决了什么问题">脚手架解决了什么问题？</a></h2>
<ol>
<li><strong>初始化项目繁琐</strong>：手动创建项目目录、配置文件、安装依赖等步骤非常耗时且容易出错。脚手架可以自动化这些步骤，一键生成项目骨架。</li>
<li><strong>统一开发规范</strong>：每个团队都有自己的代码风格、目录结构和依赖管理方式。脚手架可以强制执行这些规范，确保团队成员在统一的环境下工作。</li>
<li><strong>提高开发效率</strong>：通过预先配置好的开发环境、构建流程和测试框架，脚手架可以大大提高开发效率，让开发者专注于业务逻辑的实现。</li>
<li><strong>减少重复劳动</strong>：在多个项目中使用相同的配置和依赖时，脚手架可以避免重复劳动，提高代码复用率。</li>
<li><strong>降低学习成本</strong>：对于新手开发者，脚手架可以提供一个清晰的项目结构和最佳实践，降低学习成本。</li>
<li><strong>团队技术沉淀</strong>：团队如果多个项目，在 A 项目实现了 B 功能，在 C 项目也需要，这时候沉淀到脚手架是一个更好的推广的方式，能够减少团队重复劳动，提高效率</li>
<li><strong>最佳实践沉淀</strong>：当我们把一些配置，能力集成到脚手架会让我们思考这是不是最佳实现，是不是适合团队等等代码规范问题</li>
</ol>
<h2 id="这些时候我们不需要脚手架"><a class="anchor" href="#这些时候我们不需要脚手架">这些时候我们不需要脚手架</a></h2>
<ul>
<li>现有脚手架已经满足我们的需求</li>
<li>项目很简单，手动创建项目就是更好的选择</li>
<li>团队规模小，技术栈很统一，大家都熟悉项目开发规范，就不需要脚手架，额外添加了流程</li>
<li>时间资源少，这时候就不要搭建脚手架了，因为维护脚手架也需要成本</li>
</ul>
<h2 id="快速跑通一个脚手架搭建核心流程"><a class="anchor" href="#快速跑通一个脚手架搭建核心流程">快速跑通一个脚手架搭建核心流程</a></h2>
<h3 id="梳理需求"><a class="anchor" href="#梳理需求">梳理需求</a></h3>
<p>我们目标就是开发出一个类似 vue cli 的脚手架工具，使用我们自己的脚手架工具来下载我们远程 github 的仓库代码，我们可以先体验一下 create-vue ，运行：</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">npm</span> create vue@latest
</span></code></pre>
<p></p>
<p>我们根据交互会得到一个基础的项目模板，简单分析一下，主要为三个步骤：</p>
<ol>
<li>用户在终端运行 npm create xxx ，然后下载一个脚手架包</li>
<li>下载完成后，就会在终端运行一个交互页面，通过一步步的交互，最终我们会得到一个我们想要的包</li>
<li>用户执行完交互逻辑，安装对应的代码到本地，这里我们需要给到友好的下载进度提示和安装完成后的一些提示</li>
</ol>
<h3 id="功能开发"><a class="anchor" href="#功能开发">功能开发</a></h3>
<h4 id="第一步"><a class="anchor" href="#第一步">第一步</a></h4>
<p>我们按照我们分析的步骤一个个开发，最后再优化，我们先来开发第一步(项目名为 create-lucky，注意如果我们希望通过  npm create 来创建项目，项目名称必须以 create- 开头)。</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># 创建文件夹并进入</span>
</span><span class="code-line"><span class="token function">mkdir</span> create-lucky <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> create-lucky
</span><span class="code-line"><span class="token comment"># 初始化 package.json 和 index.js</span>
</span><span class="code-line"><span class="token function">npm</span> init <span class="token parameter variable">-y</span> <span class="token operator">&amp;&amp;</span> <span class="token function">nano</span> index.js
</span><span class="code-line"><span class="token comment"># 然后我们在 index.js 输入如下代码，注意 第一行必须是 #!/usr/bin/env node</span>
</span><span class="code-line"><span class="token comment">#!/usr/bin/env node</span>
</span><span class="code-line">
</span><span class="code-line">console.log<span class="token punctuation">(</span><span class="token string">&quot;Hello from create-lucky!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 为了让 index.js 文件可以被执行，需要添加执行权限，然后我们运行 </span>
</span><span class="code-line"><span class="token function">chmod</span> +x index.js
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 然后我们需要修改一下 package.json</span>
</span><span class="code-line"><span class="token string">&quot;main&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;src/index.js&quot;</span>,
</span><span class="code-line"><span class="token string">&quot;bin&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token string">&quot;create-lucky&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;src/index.js&quot;</span>
</span><span class="code-line"><span class="token punctuation">}</span>,
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 本地测试，我们运行 npm link</span>
</span><span class="code-line"><span class="token function">npm</span> <span class="token function">link</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 在任意目录下，运行以下命令来测试脚手架</span>
</span><span class="code-line"><span class="token function">npm</span> create lucky
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 发布1，先检查 npm register 是否为：https://registry.npmjs.org/</span>
</span><span class="code-line"><span class="token function">npm</span> get registry
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 发布2，如果没有注册 npm 账号，需要先注册，根据提示你输入用户名、密码和邮箱。</span>
</span><span class="code-line"><span class="token function">npm</span> login
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 发布3，发布到 npm</span>
</span><span class="code-line"><span class="token function">npm</span> publish
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 检查发布是否成功，可能有十秒延迟，我们去 https://www.npmjs.com/~luckysnail ，这里 luckysnail 是你的 npm 账号名</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 本地运行 npm create lucky ，验证效果</span>
</span></code></pre>
<p></p>
<p>看到这样，证明第一步就完成了！</p>
<h4 id="第二步"><a class="anchor" href="#第二步">第二步</a></h4>
<p>这一步，我们需要在终端创建一个交互，来让用户使用脚手架安装想要的项目</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># 引入 inquirer：命令行界面与用户交互的库</span>
</span><span class="code-line"><span class="token function">npm</span> i inquirer
</span><span class="code-line"><span class="token comment"># 更新 src/index.js 代码</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">#!/usr/bin/env node</span>
</span><span class="code-line">
</span><span class="code-line">const inquirer <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&quot;inquirer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">async <span class="token keyword">function</span> <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  const answers <span class="token operator">=</span> await inquirer.default.prompt<span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      type: <span class="token string">&quot;list&quot;</span>,
</span><span class="code-line">      name: <span class="token string">&quot;template&quot;</span>,
</span><span class="code-line">      message: <span class="token string">&quot;请选择你想要使用的模板:&quot;</span>,
</span><span class="code-line">      choices: <span class="token punctuation">[</span><span class="token string">&quot;Vue&quot;</span>, <span class="token string">&quot;React&quot;</span>, <span class="token string">&quot;React19&quot;</span>, <span class="token string">&quot;NextJs&quot;</span><span class="token punctuation">]</span>,
</span><span class="code-line">    <span class="token punctuation">}</span>,
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      type: <span class="token string">&quot;input&quot;</span>,
</span><span class="code-line">      name: <span class="token string">&quot;customUrl&quot;</span>,
</span><span class="code-line">      message: <span class="token string">&quot;请输入项目名称:&quot;</span>,
</span><span class="code-line">    <span class="token punctuation">}</span>,
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token builtin class-name">let</span> packageUrl <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>answers.template <span class="token operator">==</span><span class="token operator">=</span> <span class="token string">&quot;custom-app&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    packageUrl <span class="token operator">=</span> answers.customUrl<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">    packageUrl <span class="token operator">=</span> <span class="token variable"><span class="token variable">`</span>https://github.com/your-org/$<span class="token punctuation">{</span>answers.template<span class="token punctuation">}</span><span class="token variable">`</span></span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  console.log<span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>你选择的包地址是: $<span class="token punctuation">{</span>packageUrl<span class="token punctuation">}</span><span class="token variable">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">main<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token comment"># 重新 npm link 然后测试，没有问题，就 publish 再测试一下</span>
</span></code></pre>
<p>inquirer 更多使用方法：<a href="https://www.npmjs.com/package/inquirer">https://www.npmjs.com/package/inquirer</a></p>
<h4 id="第三步"><a class="anchor" href="#第三步">第三步</a></h4>
<p>最后一步，我们就需要根据用户的选择，然后生成对应的代码</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># 安装需要的库，chalk：终端字体样式；ora：显示loading动画效果；download-git-repo：下载并提取git仓库</span>
</span><span class="code-line"><span class="token function">npm</span> i chalk ora download-git-repo
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># src/constants.js 定义常量</span>
</span><span class="code-line">/** 项目列表 */
</span><span class="code-line"><span class="token builtin class-name">export</span> const PROJECT_LIST <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    name: <span class="token string">&quot;vue&quot;</span>,
</span><span class="code-line">    desc: <span class="token string">&quot;vue3 + pinia + vue-router&quot;</span>,
</span><span class="code-line">    value: <span class="token string">&quot;https://github.com/axin-s-Template/vue-light-starter.git&quot;</span>,
</span><span class="code-line">  <span class="token punctuation">}</span>,
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    name: <span class="token string">&quot;React19&quot;</span>,
</span><span class="code-line">    desc: <span class="token string">&quot;React 19 + Tailwind 3 + Biome + RSBuild + shadui/cn 轻量启动模版&quot;</span>,
</span><span class="code-line">    value: <span class="token string">&quot;https://github.com/axin-s-Template/react19-light-starter&quot;</span>,
</span><span class="code-line">  <span class="token punctuation">}</span>,
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    name: <span class="token string">&quot;React&quot;</span>,
</span><span class="code-line">    desc: <span class="token string">&quot;react 轻量模版（适合开发简单应用），使用 Vite + TypeScript + TailwindCss + shadcn/ui + Zustand + react-router-dom 的简单 SPA 启动模版&quot;</span>,
</span><span class="code-line">    value: <span class="token string">&quot;https://github.com/axin-s-Template/react-light-starter&quot;</span>,
</span><span class="code-line">  <span class="token punctuation">}</span>,
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    name: <span class="token string">&quot;NextJs&quot;</span>,
</span><span class="code-line">    desc: <span class="token string">&quot;Next.js 14+ 基础启动模板&quot;</span>,
</span><span class="code-line">    value: <span class="token string">&quot;https://github.com/axin-s-Template/Nextjs-Boilerplate&quot;</span>,
</span><span class="code-line">  <span class="token punctuation">}</span>,
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 设置 package.json 的 &quot;type&quot;: &quot;module&quot;,</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># 更新 src/index.js</span>
</span><span class="code-line"><span class="token comment">#!/usr/bin/env node</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">import</span> inquirer from <span class="token string">&quot;inquirer&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token function">import</span> chalk from <span class="token string">&quot;chalk&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token function">import</span> ora from <span class="token string">&quot;ora&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token function">import</span> <span class="token punctuation">{</span> promisify <span class="token punctuation">}</span> from <span class="token string">&quot;util&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token function">import</span> downloadGitRepo from <span class="token string">&quot;download-git-repo&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token function">import</span> <span class="token punctuation">{</span> PROJECT_LIST <span class="token punctuation">}</span> from <span class="token string">&quot;./constants.js&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">const download <span class="token operator">=</span> promisify<span class="token punctuation">(</span>downloadGitRepo<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">async <span class="token keyword">function</span> <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  const answers <span class="token operator">=</span> await inquirer.prompt<span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      type: <span class="token string">&quot;list&quot;</span>,
</span><span class="code-line">      name: <span class="token string">&quot;template&quot;</span>,
</span><span class="code-line">      message: <span class="token string">&quot;请选择你想要使用的模板:&quot;</span>,
</span><span class="code-line">      choices: PROJECT_LIST.map<span class="token variable"><span class="token punctuation">((</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>{
</span></span><span class="code-line"><span class="token variable">        name<span class="token operator">:</span> `${item.name} <span class="token operator">-</span> ${item.desc}`<span class="token punctuation">,</span>
</span></span><span class="code-line"><span class="token variable">        value<span class="token operator">:</span> item.name.toLowerCase<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span></span><span class="code-line"><span class="token variable">      }<span class="token punctuation">))</span></span>,
</span><span class="code-line">    <span class="token punctuation">}</span>,
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      type: <span class="token string">&quot;input&quot;</span>,
</span><span class="code-line">      name: <span class="token string">&quot;projectName&quot;</span>,
</span><span class="code-line">      message: <span class="token string">&quot;请输入项目名称:&quot;</span>,
</span><span class="code-line">      validate: <span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>input.trim<span class="token punctuation">(</span><span class="token punctuation">))</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token builtin class-name">return</span> <span class="token string">&quot;项目名称不能为空&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token builtin class-name">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span>,
</span><span class="code-line">    <span class="token punctuation">}</span>,
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  const selectedTemplate <span class="token operator">=</span> PROJECT_LIST.find<span class="token variable"><span class="token punctuation">((</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> item.name.toLowerCase<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span><span class="token operator">=</span> answers.template<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="code-line"><span class="token variable">
</span></span><span class="code-line"><span class="token variable">  if <span class="token punctuation">(</span><span class="token operator">!</span>selectedTemplate<span class="token punctuation">)</span> {
</span></span><span class="code-line"><span class="token variable">    console.log<span class="token punctuation">(</span>chalk.red<span class="token punctuation">(</span>&quot;未找到选择的模板&quot;<span class="token punctuation">))</span></span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token builtin class-name">return</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  const spinner <span class="token operator">=</span> ora<span class="token punctuation">(</span><span class="token string">&quot;正在下载模板...&quot;</span><span class="token punctuation">)</span>.start<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  try <span class="token punctuation">{</span>
</span><span class="code-line">    const repoUrl <span class="token operator">=</span> selectedTemplate.value.replace<span class="token punctuation">(</span><span class="token string">&quot;https://github.com/&quot;</span>, <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>.replace<span class="token punctuation">(</span><span class="token string">&quot;.git&quot;</span>, <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    await download<span class="token punctuation">(</span>repoUrl, answers.projectName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    spinner.succeed<span class="token punctuation">(</span>chalk.green<span class="token punctuation">(</span><span class="token string">&quot;模板下载成功！&quot;</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
</span><span class="code-line">    console.log<span class="token punctuation">(</span>chalk.blue<span class="token punctuation">(</span><span class="token string">&quot;<span class="token entity" title="\n">\n</span>开始使用:&quot;</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
</span><span class="code-line">    console.log<span class="token punctuation">(</span>chalk.cyan<span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>  <span class="token builtin class-name">cd</span> $<span class="token punctuation">{</span>answers.projectName<span class="token punctuation">}</span><span class="token variable">`</span></span><span class="token punctuation">))</span><span class="token punctuation">;</span>
</span><span class="code-line">    console.log<span class="token punctuation">(</span>chalk.cyan<span class="token punctuation">(</span><span class="token string">&quot;  npm install&quot;</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
</span><span class="code-line">    console.log<span class="token punctuation">(</span>chalk.cyan<span class="token punctuation">(</span><span class="token string">&quot;  npm run dev<span class="token entity" title="\n">\n</span>&quot;</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span> catch <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    spinner.fail<span class="token punctuation">(</span>chalk.red<span class="token punctuation">(</span><span class="token string">&quot;下载失败：&quot;</span> + err.message<span class="token punctuation">))</span><span class="token punctuation">;</span>
</span><span class="code-line">    process.exit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">main<span class="token punctuation">(</span><span class="token punctuation">)</span>.catch<span class="token variable"><span class="token punctuation">((</span>err<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> {
</span></span><span class="code-line"><span class="token variable">  console.error<span class="token punctuation">(</span>chalk.red<span class="token punctuation">(</span>err<span class="token punctuation">))</span></span><span class="token punctuation">;</span>
</span><span class="code-line">  process.exit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>这里，我们运行 node ./src/index.js ，如果看到这样就证明没有问题啦！</p>
<p></p>
<p>到这里，我们基础的脚手架就算是搭建完成了！我们可以发布到npm 仓库，然后再试试，记得先运行 <code>npm unlink create-lucky</code>。然后我们在运行 <code>npm create lucky</code> ，记得每次发布的时候去 package.json 中修改 version</p>
<h3 id="优化"><a class="anchor" href="#优化">优化</a></h3>
<p>目前这一版本的脚手架工具其实还有很多缺点：</p>
<ul>
<li>使用 js ，不好维护，脚手架本来就是团队才需要的，所以脚手架的代码，可能是要规范的</li>
<li>目前测试麻烦，使用 npm link 来进行测试，测试完成需要 npm unlink 来取消 link</li>
<li>开发一个命令行工具，连命令参数能力都没有，例如 -v  --help 等等都是必须的</li>
<li>不支持动态生成项目的一些信息，例如：我希望通过模版创建的时候就把这个项目的基础信息（项目名称，描述等）都初始化好</li>
<li>终端不够美观，炫酷，这个反倒是很重要的，别人使用你的脚手架第一印象就是终端效果</li>
</ul>
<p>所以，我们可以使用 monorepo  + @clack/prompt 来进行优化一版本</p>
<ul>
<li>使用 monorepo 来更好的维护代码和验证效果</li>
<li>使用 @clack/prompt 来提供更加美观炫酷的终端交互</li>
</ul>
<p>关于优化，我会再写一篇！</p>
<h2 id="总结"><a class="anchor" href="#总结">总结</a></h2>
<p>首先感谢你看到这里，看到着你说明你也认为搭建自己的脚手架是有价值的。在我看来脚手架的价值有两个：</p>
<ol>
<li>从个人来讲：我觉得脚手架对个人来讲收益是最大的，因为在开发脚手架过程中，你会得到你自己认为的最佳实践，你会搭建出自己的开发规范，这培养了个人的工程化思维，追求极致的思想。</li>
<li>对他人来讲：他人能够通过你的脚手架快速搭建出一个项目骨架。使用你的最佳实践，为他节省了时间。所以在开发完成后，我们需要写文档来推广我们的脚手架</li>
</ol>
<hr/>
<p>此文自动发布于：<a href="https://github.com/coderPerseus/blog/issues/45" target="_blank">github issues</a></p></div></article><div class="flex px-4 justify-between mt-8"><a class="inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2" href="/blog/posts/post-46">如何订阅 cursor Pro 会员，超...</a><a class="inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2" href="/blog/posts/post-44">使用字节的 TRAE 开发一个简单的 n...</a></div></div></div></div></div></div></div><!--/$--></main><!--$--><footer class="mt-32"><div class="sm:px-8"><div class="mx-auto max-w-7xl lg:px-8"><div class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex flex-col items-center justify-between gap-6 sm:flex-row"><p class="text-sm text-zinc-500/80 dark:text-zinc-400/80">© <!-- -->2025<!-- --> <!-- -->William Sun<!-- --> 网站已开源：<a class="inline-flex place-items-baseline items-baseline gap-0.5 pr-0.5 text-[0.95em] leading-none font-semibold text-zinc-800 hover:underline dark:text-zinc-100" rel="noopener noreferrer" target="_blank" href="https://github.com/coderPerseus/blog"><span class="mr-px inline-flex translate-y-0.5 dark:invert"><img alt="" aria-hidden="true" loading="lazy" width="16" height="16" decoding="async" data-nimg="1" class="inline h-4 w-4 rounded" style="color:transparent" src="/blog/_next/static/media/github.ee3e4451.png"/></span>William Sun<svg width="0.95em" height="0.95em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline-block translate-y-0.5" aria-hidden="true"><path d="M20 13.5001C20 14.8946 20 15.5919 19.8618 16.1673C19.4229 17.9956 17.9955 19.423 16.1672 19.8619C15.5918 20.0001 14.8945 20.0001 13.5 20.0001H12C9.19974 20.0001 7.79961 20.0001 6.73005 19.4551C5.78924 18.9758 5.02433 18.2109 4.54497 17.2701C4 16.2005 4 14.8004 4 12.0001V11.5001C4 9.17035 4 8.0055 4.3806 7.08664C4.88807 5.8615 5.86144 4.88813 7.08658 4.38066C7.86344 4.05888 8.81614 4.00915 10.5 4.00146M19.7597 9.45455C20.0221 7.8217 20.0697 6.16984 19.9019 4.54138C19.8898 4.42328 19.838 4.31854 19.7597 4.24027M19.7597 4.24027C19.6815 4.16201 19.5767 4.11023 19.4586 4.09806C17.8302 3.93025 16.1783 3.97792 14.5455 4.24027M19.7597 4.24027L10 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></p><nav class="flex gap-6 text-sm font-medium text-zinc-800 dark:text-zinc-200"><a class="transition hover:text-violet-500 dark:hover:text-violet-400" href="/blog">首页</a><a class="transition hover:text-violet-500 dark:hover:text-violet-400" href="/blog/posts">博客</a><a class="transition hover:text-violet-500 dark:hover:text-violet-400" href="/blog/about">关于我</a></nav></div></div></div><div class="relative px-4 sm:px-8 lg:px-12 mt-6"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex flex-col items-center justify-start gap-2 sm:flex-row">欢迎 👏🏻 你的访问</div></div></div><div class="flex justify-center p-6 flex-col sm:flex-row"><a target="_blank" class="text-blue-600 flex justify-center items-center" href="https://beian.miit.gov.cn/"><img alt="备案" loading="lazy" width="18" height="18" decoding="async" data-nimg="1" class="mr-1 " style="color:transparent" src="/blog/police.png"/>辽公网安备21021202000334号</a><a target="_blank" class="text-blue-600 pl-6 flex justify-center items-center" href="https://beian.miit.gov.cn/">辽ICP备2021012379号-1</a></div></div></div></div></footer><!--/$--></div><script src="/blog/_next/static/chunks/webpack-87c756ce837eff6d.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/blog/_next/static/media/3534416bbfdcc9be-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/blog/_next/static/media/a34f9d1faa5f3315-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/blog/_next/static/css/0e48527f3eb7181c.css\",\"style\"]\n4:HL[\"/blog/_next/static/css/cc5160e2067b0cef.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"5:I[1439,[],\"\"]\n7:I[7401,[\"779\",\"static/chunks/779-51e1b779352a73d2.js\",\"139\",\"static/chunks/139-77f6f55694c8cac3.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"892\",\"static/chunks/892-e0ec958e7d2667d6.js\",\"878\",\"static/chunks/app/(app)/posts/%5Bid%5D/page-1b18d48266a440a6.js\"],\"default\"]\n8:I[2219,[\"779\",\"static/chunks/779-51e1b779352a73d2.js\",\"139\",\"static/chunks/139-77f6f55694c8cac3.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"892\",\"static/chunks/892-e0ec958e7d2667d6.js\",\"878\",\"static/chunks/app/(app)/posts/%5Bid%5D/page-1b18d48266a440a6.js\"],\"\"]\n9:I[6814,[\"779\",\"static/chunks/779-51e1b779352a73d2.js\",\"139\",\"static/chunks/139-77f6f55694c8cac3.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"892\",\"static/chunks/892-e0ec958e7d2667d6.js\",\"878\",\"static/chunks/app/(app)/posts/%5Bid%5D/page-1b18d48266a440a6.js\"],\"Separator\"]\na:I[8501,[\"779\",\"static/chunks/779-51e1b779352a73d2.js\",\"139\",\"static/chunks/139-77f6f55694c8cac3.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"892\",\"static/chunks/892-e0ec958e7d2667d6.js\",\"878\",\"static/chunks/app/(app)/posts/%5Bid%5D/page-1b18d48266a440a6.js\"],\"default\"]\nb:I[1473,[],\"\"]\nd:I[9658,[],\"\"]\ne:I[3205,[\"779\",\"static/chunks/779-51e1b779352a73d2.js\",\"139\",\"static/chunks/139-77f6f55694c8cac3.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"534\",\"static/chunks/534-df7b43d9be725930.js\",\"457\",\"static/chunks/457-dc33665ac60cfba8.js\",\"868\",\"static/chunks/868-9c31f7c0009643d5.js\",\"814\",\"static/chunks/app/(app)/layout-92bc512e2cb186d0.js\"],\"GlobalBg\"]\nf:I[7726,[\"779\",\"static/chunks/779-51e1b779352a73d2.js\",\"139\",\"static/chunks/139-77f6f55694c8cac3.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"534\",\"static/chunks/534-df7b43d9be725930.js\",\"457\",\"static/chunks/457-dc33665ac60cfba8.js\",\"868\",\"static/chunks/868-9c31f7c0009643d5.js\",\"814\",\"static/chunks/app/(app)/layout-92bc512e2cb186d0.js\"],\"Head"])</script><script>self.__next_f.push([1,"er\"]\n10:\"$Sreact.suspense\"\n11:I[4662,[\"779\",\"static/chunks/779-51e1b779352a73d2.js\",\"139\",\"static/chunks/139-77f6f55694c8cac3.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"534\",\"static/chunks/534-df7b43d9be725930.js\",\"457\",\"static/chunks/457-dc33665ac60cfba8.js\",\"868\",\"static/chunks/868-9c31f7c0009643d5.js\",\"814\",\"static/chunks/app/(app)/layout-92bc512e2cb186d0.js\"],\"PeekabooLink\"]\n12:I[4543,[\"779\",\"static/chunks/779-51e1b779352a73d2.js\",\"139\",\"static/chunks/139-77f6f55694c8cac3.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"892\",\"static/chunks/892-e0ec958e7d2667d6.js\",\"878\",\"static/chunks/app/(app)/posts/%5Bid%5D/page-1b18d48266a440a6.js\"],\"Image\"]\n13:I[2962,[\"245\",\"static/chunks/245-4d9cc7d916e46c69.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"185\",\"static/chunks/app/layout-c1f6a3e37ec77367.js\"],\"default\"]\n14:I[7808,[\"245\",\"static/chunks/245-4d9cc7d916e46c69.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"185\",\"static/chunks/app/layout-c1f6a3e37ec77367.js\"],\"default\"]\n15:I[5433,[\"245\",\"static/chunks/245-4d9cc7d916e46c69.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"185\",\"static/chunks/app/layout-c1f6a3e37ec77367.js\"],\"ThemeProvider\"]\n16:I[3970,[\"779\",\"static/chunks/779-51e1b779352a73d2.js\",\"139\",\"static/chunks/139-77f6f55694c8cac3.js\",\"160\",\"static/chunks/app/not-found-e85be02af3c0f84e.js\"],\"default\"]\n18:I[2716,[],\"\"]\nc:[\"id\",\"post-45\",\"d\"]\n19:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/blog/_next/static/css/0e48527f3eb7181c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"18RIll3e6kXLy-sjMRq1_\",\"assetPrefix\":\"/blog\",\"initialCanonicalUrl\":\"/posts/post-45\",\"initialTree\":[\"\",{\"children\":[\"(app)\",{\"children\":[\"posts\",{\"children\":[[\"id\",\"post-45\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"post-45\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"(app)\",{\"children\":[\"posts\",{\"children\":[[\"id\",\"post-45\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L6\",[\"$\",\"div\",null,{\"className\":\"sm:px-8 mt-10 lg:mt-16\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative px-4 sm:px-8 lg:px-12 !px-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"w-full md:flex md:justify-between xl:relative gap-1\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"hidden w-[160px] shrink-0 lg:block\",\"children\":[\"$\",\"div\",null,{\"className\":\"sticky top-2 pt-16\",\"children\":[\"$\",\"$L7\",null,{}]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-4xl md:flex-1 md:shrink-0 \",\"children\":[[\"$\",\"$L8\",null,{\"href\":\"/posts\",\"className\":\"group mb-8 flex h-10 w-10 items-center justify-center bg-white dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:hover:border-zinc-700 lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0 group rounded-full bg-gradient-to-b from-zinc-50/50 to-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:from-zinc-900/50 dark:to-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20\",\"aria-label\":\"返回博客页面\",\"children\":[\"$\",\"svg\",null,{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"className\":\"h-8 w-8 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400\",\"children\":[\"$\",\"path\",null,{\"d\":\"M8.03089 4C6.57669 5.05865 5.2706 6.29537 4.14485 7.67887C4.04828 7.79755 4 7.94044 4 8.08333M8.03089 12.1667C6.57669 11.108 5.2706 9.8713 4.14485 8.4878C4.04828 8.36912 4 8.22623 4 8.08333M4 8.08333H14.963C17.7448 8.08333 20 10.3033 20 13.0417C20 15.7801 17.7448 18 14.963 18H12\",\"stroke\":\"currentColor\",\"strokeWidth\":\"2\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\"}]}]}],[\"$\",\"article\",null,{\"data-postid\":\"data/blog/post-45.mdx\",\"className\":\"rich-text-viewer prose px-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8 text-center\",\"children\":[\"$undefined\",[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold\",\"children\":\"搭建前端脚手架（上）\"}],[\"$\",\"div\",null,{\"className\":\"flex justify-center rounded-md  h-5 items-center space-x-4 text-sm\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2025-02-04T07:42:07.000Z\",\"className\":\"mb-1 text-xs text-gray-600\",\"children\":\"2025-02-04\"}],[\"$\",\"$L9\",null,{\"orientation\":\"vertical\"}],[\"$\",\"span\",null,{\"className\":\"mb-1 text-xs text-gray-600 flex items-center\",\"children\":[[\"$\",\"svg\",null,{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"className\":\"mr-2\",\"children\":[\"$\",\"path\",null,{\"d\":\"M10.1912 12.5508C10.3071 12.1942 10.3071 11.8058 10.1912 11.4492C9.22165 8.46673 4.40272 8.00546 4.01443 4.48436C3.93458 3.76031 4.18955 3.04013 4.69671 2.55723C5.28193 2 6.62415 2 9.30861 2H14.6914C17.3759 2 18.7181 2 19.3033 2.55723C19.8104 3.04013 20.0654 3.76031 19.9856 4.48436C19.5973 8.00546 14.7784 8.46673 13.8088 11.4492C13.6929 11.8058 13.6929 12.1942 13.8088 12.5508C14.7784 15.5333 19.5973 15.9945 19.9856 19.5156C20.0654 20.2397 19.8104 20.9599 19.3033 21.4428C18.7181 22 17.3758 22 14.6914 22L9.3086 22C6.62415 22 5.28192 22 4.69671 21.4428C4.18955 20.9599 3.93458 20.2397 4.01442 19.5156C4.40272 15.9945 9.22164 15.5333 10.1912 12.5508Z\",\"stroke\":\"currentColor\",\"strokeWidth\":\"2\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\"}]}],\" \",13,\" 分钟\"]}]]}],[\"$\",\"div\",null,{\"className\":\"flex w-full justify-center gap-2 mt-2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"inline-flex items-center px-2 h-5 rounded-md text-xs  bg-gray-300 text-gray-800\",\"children\":\"前端工程化\"}]]}],\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"js-toc-content\",\"children\":[[\"$\",\"p\",null,{\"children\":[\"在学习 Vue 或者 React 的时候，我们应该都使用过它们的脚手架工具（\",[\"$\",\"a\",null,{\"href\":\"https://github.com/vuejs/create-vue\",\"children\":\"create-vue\"}],\"、\",[\"$\",\"a\",null,{\"href\":\"https://github.com/facebook/create-react-app\",\"children\":\"create-react-app\"}],\"）。通过脚手架我们能够快速得到一个 Vue 或者 React 项目，我们无需将经历花在了项目基础骨架搭建上，能够更加快速的开发业务\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"为了让大家更好明白，我尝试通过场景来一步步讲明白脚手架搭建里面的”门道“，在场景中主人公 - 阿牛，一个不太会写代码的前端开发\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"脚手架是什么\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#脚手架是什么\",\"children\":\"脚手架是什么？\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"在开发自己的脚手架前，我们再认识一下脚手架吧！脚手架是：”一种工具或框架，用于快速生成项目的基础结构、配置文件和代码模板。它通常包含了一些预定义的目录结构、配置文件、依赖管理工具、构建工具等。脚手架的主要目的是减少重复劳动，提高开发效率，并确保项目结构的一致性。“\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"在前端开发中，脚手架工具通常会帮助我们完成以下任务：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"初始化项目目录结构\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"配置开发环境（如 Webpack、Babel、ESLint 等）\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"集成常用的库和工具（如 Vue、React、TypeScript 等）\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"提供代码模板和最佳实践\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"使用脚手架，我们会得到一个预期的模版项目，这里已经集成了我们需要的基础设施\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"脚手架解决了什么问题\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#脚手架解决了什么问题\",\"children\":\"脚手架解决了什么问题？\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"初始化项目繁琐\"}],\"：手动创建项目目录、配置文件、安装依赖等步骤非常耗时且容易出错。脚手架可以自动化这些步骤，一键生成项目骨架。\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"统一开发规范\"}],\"：每个团队都有自己的代码风格、目录结构和依赖管理方式。脚手架可以强制执行这些规范，确保团队成员在统一的环境下工作。\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"提高开发效率\"}],\"：通过预先配置好的开发环境、构建流程和测试框架，脚手架可以大大提高开发效率，让开发者专注于业务逻辑的实现。\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"减少重复劳动\"}],\"：在多个项目中使用相同的配置和依赖时，脚手架可以避免重复劳动，提高代码复用率。\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"降低学习成本\"}],\"：对于新手开发者，脚手架可以提供一个清晰的项目结构和最佳实践，降低学习成本。\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"团队技术沉淀\"}],\"：团队如果多个项目，在 A 项目实现了 B 功能，在 C 项目也需要，这时候沉淀到脚手架是一个更好的推广的方式，能够减少团队重复劳动，提高效率\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"最佳实践沉淀\"}],\"：当我们把一些配置，能力集成到脚手架会让我们思考这是不是最佳实现，是不是适合团队等等代码规范问题\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"这些时候我们不需要脚手架\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#这些时候我们不需要脚手架\",\"children\":\"这些时候我们不需要脚手架\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"现有脚手架已经满足我们的需求\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"项目很简单，手动创建项目就是更好的选择\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"团队规模小，技术栈很统一，大家都熟悉项目开发规范，就不需要脚手架，额外添加了流程\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"时间资源少，这时候就不要搭建脚手架了，因为维护脚手架也需要成本\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"快速跑通一个脚手架搭建核心流程\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#快速跑通一个脚手架搭建核心流程\",\"children\":\"快速跑通一个脚手架搭建核心流程\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"梳理需求\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#梳理需求\",\"children\":\"梳理需求\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"我们目标就是开发出一个类似 vue cli 的脚手架工具，使用我们自己的脚手架工具来下载我们远程 github 的仓库代码，我们可以先体验一下 create-vue ，运行：\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" create vue@latest\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"$La\",null,{\"src\":\"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/image-20250202165310697.png\",\"alt\":\"image-20250202165310697\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"我们根据交互会得到一个基础的项目模板，简单分析一下，主要为三个步骤：\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"用户在终端运行 npm create xxx ，然后下载一个脚手架包\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"下载完成后，就会在终端运行一个交互页面，通过一步步的交互，最终我们会得到一个我们想要的包\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"用户执行完交互逻辑，安装对应的代码到本地，这里我们需要给到友好的下载进度提示和安装完成后的一些提示\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"功能开发\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#功能开发\",\"children\":\"功能开发\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"第一步\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#第一步\",\"children\":\"第一步\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"我们按照我们分析的步骤一个个开发，最后再优化，我们先来开发第一步(项目名为 create-lucky，注意如果我们希望通过  npm create 来创建项目，项目名称必须以 create- 开头)。\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 创建文件夹并进入\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"mkdir\"}],\" create-lucky \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"cd\"}],\" create-lucky\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 初始化 package.json 和 index.js\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" init \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-y\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"nano\"}],\" index.js\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 然后我们在 index.js 输入如下代码，注意 第一行必须是 #!/usr/bin/env node\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#!/usr/bin/env node\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"console.log\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Hello from create-lucky!\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 为了让 index.js 文件可以被执行，需要添加执行权限，然后我们运行 \"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"chmod\"}],\" +x index.js\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 然后我们需要修改一下 package.json\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"main\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"src/index.js\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"bin\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"create-lucky\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"src/index.js\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 本地测试，我们运行 npm link\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"link\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 在任意目录下，运行以下命令来测试脚手架\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" create lucky\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 发布1，先检查 npm register 是否为：https://registry.npmjs.org/\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" get registry\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 发布2，如果没有注册 npm 账号，需要先注册，根据提示你输入用户名、密码和邮箱。\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" login\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 发布3，发布到 npm\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" publish\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 检查发布是否成功，可能有十秒延迟，我们去 https://www.npmjs.com/~luckysnail ，这里 luckysnail 是你的 npm 账号名\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 本地运行 npm create lucky ，验证效果\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"$La\",null,{\"src\":\"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/image-20250202173927965.png\",\"alt\":\"image-20250202173927965\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"看到这样，证明第一步就完成了！\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"第二步\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#第二步\",\"children\":\"第二步\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"这一步，我们需要在终端创建一个交互，来让用户使用脚手架安装想要的项目\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 引入 inquirer：命令行界面与用户交互的库\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" i inquirer\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 更新 src/index.js 代码\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#!/usr/bin/env node\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"const inquirer \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" require\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"inquirer\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"async \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-name function\",\"children\":\"main\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  const answers \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" await inquirer.default.prompt\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      type: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"list\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      name: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"template\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      message: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"请选择你想要使用的模板:\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      choices: \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Vue\\\"\"}],\", \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"React\\\"\"}],\", \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"React19\\\"\"}],\", \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"NextJs\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      type: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"input\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      name: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"customUrl\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      message: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"请输入项目名称:\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"let\"}],\" packageUrl \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"answers.template \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"custom-app\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    packageUrl \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" answers.customUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"else\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    packageUrl \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":\"`\"}],\"https://github.com/your-org/$\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"answers.template\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  console.log\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":\"`\"}],\"你选择的包地址是: $\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"packageUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"main\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 重新 npm link 然后测试，没有问题，就 publish 再测试一下\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"inquirer 更多使用方法：\",[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.com/package/inquirer\",\"children\":\"https://www.npmjs.com/package/inquirer\"}]]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"第三步\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#第三步\",\"children\":\"第三步\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"最后一步，我们就需要根据用户的选择，然后生成对应的代码\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 安装需要的库，chalk：终端字体样式；ora：显示loading动画效果；download-git-repo：下载并提取git仓库\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" i chalk ora download-git-repo\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# src/constants.js 定义常量\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"/** 项目列表 */\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"export\"}],\" const PROJECT_LIST \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    name: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"vue\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    desc: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"vue3 + pinia + vue-router\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    value: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"https://github.com/axin-s-Template/vue-light-starter.git\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    name: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"React19\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    desc: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"React 19 + Tailwind 3 + Biome + RSBuild + shadui/cn 轻量启动模版\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    value: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"https://github.com/axin-s-Template/react19-light-starter\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    name: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"React\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    desc: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"react 轻量模版（适合开发简单应用），使用 Vite + TypeScript + TailwindCss + shadcn/ui + Zustand + react-router-dom 的简单 SPA 启动模版\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    value: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"https://github.com/axin-s-Template/react-light-starter\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    name: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"NextJs\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    desc: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Next.js 14+ 基础启动模板\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    value: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"https://github.com/axin-s-Template/Nextjs-Boilerplate\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 设置 package.json 的 \\\"type\\\": \\\"module\\\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 更新 src/index.js\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"#!/usr/bin/env node\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"import\"}],\" inquirer from \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"inquirer\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"import\"}],\" chalk from \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"chalk\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"import\"}],\" ora from \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"ora\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" promisify \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" from \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"util\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"import\"}],\" downloadGitRepo from \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"download-git-repo\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" PROJECT_LIST \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" from \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"./constants.js\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"const download \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" promisify\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"downloadGitRepo\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"async \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function-name function\",\"children\":\"main\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  const answers \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" await inquirer.prompt\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      type: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"list\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      name: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"template\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      message: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"请选择你想要使用的模板:\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      choices: PROJECT_LIST.map\",[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"((\"}],\"item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"{\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[\"        name\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" `${item.name} \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\" ${item.desc}`\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[\"        value\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" item.name.toLowerCase\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[\"      }\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"))\"}]]}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      type: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"input\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      name: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"projectName\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      message: \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"请输入项目名称:\\\"\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      validate: \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"input\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"input.trim\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"))\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"项目名称不能为空\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\",\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  const selectedTemplate \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" PROJECT_LIST.find\",[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"((\"}],\"item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" item.name.toLowerCase\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" answers.template\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":\"\\n\"}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[\"  if \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"selectedTemplate\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" {\\n\"]}]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[\"    console.log\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"chalk.red\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\\"未找到选择的模板\\\"\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"))\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"return\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  const spinner \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" ora\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"正在下载模板...\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\".start\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  try \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    const repoUrl \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" selectedTemplate.value.replace\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"https://github.com/\\\"\"}],\", \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\".replace\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\".git\\\"\"}],\", \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    await download\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"repoUrl, answers.projectName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    spinner.succeed\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"chalk.green\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"模板下载成功！\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"))\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    console.log\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"chalk.blue\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":[\"\\\"\",[\"$\",\"span\",null,{\"className\":\"token entity\",\"title\":\"\\\\n\",\"children\":\"\\\\n\"}],\"开始使用:\\\"\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"))\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    console.log\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"chalk.cyan\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":\"`\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"cd\"}],\" $\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"answers.projectName\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"))\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    console.log\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"chalk.cyan\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"  npm install\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"))\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    console.log\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"chalk.cyan\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":[\"\\\"  npm run dev\",[\"$\",\"span\",null,{\"className\":\"token entity\",\"title\":\"\\\\n\",\"children\":\"\\\\n\"}],\"\\\"\"]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"))\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" catch \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"err\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    spinner.fail\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"chalk.red\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"下载失败：\\\"\"}],\" + err.message\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"))\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    process.exit\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"main\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\".catch\",[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"((\"}],\"err\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" {\\n\"]}]]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":[\"  console.error\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"chalk.red\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"err\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"))\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  process.exit\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"这里，我们运行 node ./src/index.js ，如果看到这样就证明没有问题啦！\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"$La\",null,{\"src\":\"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/image-20250204150625035.png\",\"alt\":\"image-20250204150625035\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"到这里，我们基础的脚手架就算是搭建完成了！我们可以发布到npm 仓库，然后再试试，记得先运行 \",[\"$\",\"code\",null,{\"children\":\"npm unlink create-lucky\"}],\"。然后我们在运行 \",[\"$\",\"code\",null,{\"children\":\"npm create lucky\"}],\" ，记得每次发布的时候去 package.json 中修改 version\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"优化\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#优化\",\"children\":\"优化\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"目前这一版本的脚手架工具其实还有很多缺点：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"使用 js ，不好维护，脚手架本来就是团队才需要的，所以脚手架的代码，可能是要规范的\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"目前测试麻烦，使用 npm link 来进行测试，测试完成需要 npm unlink 来取消 link\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"开发一个命令行工具，连命令参数能力都没有，例如 -v  --help 等等都是必须的\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"不支持动态生成项目的一些信息，例如：我希望通过模版创建的时候就把这个项目的基础信息（项目名称，描述等）都初始化好\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"终端不够美观，炫酷，这个反倒是很重要的，别人使用你的脚手架第一印象就是终端效果\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"所以，我们可以使用 monorepo  + @clack/prompt 来进行优化一版本\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"使用 monorepo 来更好的维护代码和验证效果\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"使用 @clack/prompt 来提供更加美观炫酷的终端交互\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"关于优化，我会再写一篇！\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"总结\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#总结\",\"children\":\"总结\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"首先感谢你看到这里，看到着你说明你也认为搭建自己的脚手架是有价值的。在我看来脚手架的价值有两个：\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"从个人来讲：我觉得脚手架对个人来讲收益是最大的，因为在开发脚手架过程中，你会得到你自己认为的最佳实践，你会搭建出自己的开发规范，这培养了个人的工程化思维，追求极致的思想。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"对他人来讲：他人能够通过你的脚手架快速搭建出一个项目骨架。使用你的最佳实践，为他节省了时间。所以在开发完成后，我们需要写文档来推广我们的脚手架\"}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"此文自动发布于：\",[\"$\",\"a\",null,{\"href\":\"https://github.com/coderPerseus/blog/issues/45\",\"target\":\"_blank\",\"children\":\"github issues\"}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex px-4 justify-between mt-8\",\"children\":[[\"$\",\"$L8\",null,{\"href\":\"/posts/post-46\",\"className\":\"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2\",\"children\":\"如何订阅 cursor Pro 会员，超...\"}],[\"$\",\"$L8\",null,{\"href\":\"/posts/post-44\",\"className\":\"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2\",\"children\":\"使用字节的 TRAE 开发一个简单的 n...\"}]]}]]}]]}]}]}]}]}]],null],null]},[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(app)\",\"children\",\"posts\",\"children\",\"$c\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/blog/_next/static/css/cc5160e2067b0cef.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],[[\"$\",\"div\",null,{\"className\":\"sm:px-8 relative mt-16 min-h-screen lg:mt-32\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative px-4 sm:px-8 lg:px-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"absolute inset-0 flex items-center justify-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"animate-pulse text-5xl text-zinc-500/50\",\"children\":[\"$\",\"svg\",null,{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[\"$\",\"path\",null,{\"d\":\"M16.5609 7.43931C15.7777 5.41156 14.0301 4 12 4C9.96987 4 8.22234 5.41156 7.43913 7.43931M16.5609 7.43931C19.7904 8.10251 22 9.44804 22 11C22 13.2091 17.5228 15 12 15C6.47715 15 2 13.2091 2 11C2 9.44804 4.20962 8.10251 7.43913 7.43931M16.5609 7.43931C16.94 8.42085 17.0719 9.49351 16.9638 10.5391C15.5011 10.8323 13.8065 11 12 11C10.1935 11 8.49887 10.8323 7.03622 10.5391C6.92815 9.49351 7.06001 8.42085 7.43913 7.43931M4 17L3 19M12 18V21M20 17L21 19\",\"stroke\":\"currentColor\",\"strokeWidth\":\"2\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\"}]}]}]}]}]}]}]}],[],[]]]},[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(app)\",\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[[\"$\",\"$Le\",null,{}],[\"$\",\"div\",null,{\"className\":\"fixed inset-0 flex justify-center sm:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex w-full max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"opacity-95 w-full bg-zinc-50/90 ring-1 ring-zinc-100 dark:bg-zinc-900/80 dark:ring-zinc-400/20\"}]}]}],[\"$\",\"div\",null,{\"className\":\"relative text-zinc-800 dark:text-zinc-200\",\"children\":[[\"$\",\"$Lf\",null,{}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(app)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]}],[\"$\",\"$10\",null,{\"children\":[\"$\",\"footer\",null,{\"className\":\"mt-32\",\"children\":[\"$\",\"div\",null,{\"className\":\"sm:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative px-4 sm:px-8 lg:px-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-between gap-6 sm:flex-row\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-zinc-500/80 dark:text-zinc-400/80\",\"children\":[\"© \",2025,\" \",\"William Sun\",\" 网站已开源：\",[\"$\",\"$L11\",null,{\"href\":\"https://github.com/coderPerseus/blog\",\"children\":\"William Sun\"}]]}],[\"$\",\"nav\",null,{\"className\":\"flex gap-6 text-sm font-medium text-zinc-800 dark:text-zinc-200\",\"children\":[[\"$\",\"$L8\",null,{\"href\":\"/\",\"className\":\"transition hover:text-violet-500 dark:hover:text-violet-400\",\"children\":\"首页\"}],[\"$\",\"$L8\",null,{\"href\":\"/posts\",\"className\":\"transition hover:text-violet-500 dark:hover:text-violet-400\",\"children\":\"博客\"}],[\"$\",\"$L8\",null,{\"href\":\"/about\",\"className\":\"transition hover:text-violet-500 dark:hover:text-violet-400\",\"children\":\"关于我\"}]]}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"relative px-4 sm:px-8 lg:px-12 mt-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-start gap-2 sm:flex-row\",\"children\":\"欢迎 👏🏻 你的访问\"}]}]}],[\"$\",\"div\",null,{\"className\":\"flex justify-center p-6 flex-col sm:flex-row\",\"children\":[[\"$\",\"$L8\",null,{\"target\":\"_blank\",\"href\":\"https://beian.miit.gov.cn/\",\"className\":\"text-blue-600 flex justify-center items-center\",\"children\":[[\"$\",\"$L12\",null,{\"unoptimized\":true,\"src\":\"/blog/police.png\",\"width\":18,\"height\":18,\"alt\":\"备案\",\"className\":\"mr-1 \"}],\"辽公网安备21021202000334号\"]}],[\"$\",\"$L8\",null,{\"target\":\"_blank\",\"href\":\"https://beian.miit.gov.cn/\",\"className\":\"text-blue-600 pl-6 flex justify-center items-center\",\"children\":\"辽ICP备2021012379号-1\"}]]}]]}]}]}]}]}]]}]],null],null]},[[\"$\",\"html\",null,{\"className\":\"__variable_872b5f m-0 h-full p-0 font-sans antialiased\",\"lang\":\"zh-CN\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__className_0cd39b\",\"children\":[[\"$\",\"$L13\",null,{}],[\"$\",\"$L14\",null,{}],[\"$\",\"$L15\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$Lb\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Ld\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"$L16\",null,{}],\"notFoundStyles\":[],\"styles\":null}]}]]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$L17\"],\"globalErrorComponent\":\"$18\",\"missingSlots\":\"$W19\"}]]\n"])</script><script>self.__next_f.push([1,"17:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: dark)\",\"content\":\"#000212\"}],[\"$\",\"meta\",\"2\",{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: light)\",\"content\":\"#fafafa\"}],[\"$\",\"meta\",\"3\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"4\",{\"children\":\"搭建前端脚手架（上） | William Sun\"}],[\"$\",\"meta\",\"5\",{\"name\":\"description\",\"content\":\"搭建前端脚手架（上） - William Sun\"}],[\"$\",\"link\",\"6\",{\"rel\":\"manifest\",\"href\":\"/site.webmanifest\",\"crossOrigin\":\"use-credentials\"}],[\"$\",\"meta\",\"7\",{\"name\":\"keywords\",\"content\":\"前端工程化\"}],[\"$\",\"meta\",\"8\",{\"name\":\"baidu-site-verification\",\"content\":\"codeva-7AmpPWgzQY\"}],[\"$\",\"meta\",\"9\",{\"name\":\"google-site-verification\",\"content\":\"TTbfOvWmLj0icfk0BQNUZB3crwReji82Q_vRdnZFFAc\"}],[\"$\",\"link\",\"10\",{\"rel\":\"canonical\",\"href\":\"http://localhost:3000/posts/post-45\"}],[\"$\",\"link\",\"11\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"title\":\"RSS 订阅\",\"href\":\"https://luckysnail.cn/rss\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:title\",\"content\":\"搭建前端脚手架（上）\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:description\",\"content\":\"搭建前端脚手架（上） - William Sun\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:creator\",\"content\":\"@haozhan05554957\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:title\",\"content\":\"William Sunblog | 前端 | 开发者\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:description\",\"content\":\"我是William Sun，一名充满热情的前端开发工程师。我热衷于探索和体验最新技术，特别是人工智能（AI），并在日常工作中去使用它们，来提升我的工作效率。我的目标是积极参与开源社区，为开源项目贡献自己的力量。正如我的名字，我相信越努力，越幸运\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:image\",\"content\":\"https://luckysnail.cn/og.png\"}],[\"$\",\"link\",\"19\",{\"rel\":\"icon\",\"href\":\"/blog/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"32x32\"}],[\"$\",\"link\",\"20\",{\"rel\":\"icon\",\"href\":\"/blog/icon.jpg?021a5ddd40907a91\",\"type\":\"image/jpeg\",\"sizes\":\"256x256\"}],[\"$\",\"link\",\"21\",{\"rel\":\"apple-touch-icon\",\"href\":\"/blog/apple-icon.jpg?58f0c05bf91c4519\",\"type\":\"image/jpeg\",\"sizes\":\"1022x1023\"}],[\"$\",\"meta\",\"22\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n"])</script></body></html>