<!doctype html>
<html class="m-0 h-full p-0 font-sans antialiased" lang="zh-CN">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link
			rel="stylesheet"
			href="/docs/prinext/static/css/8cd2eb158671e11e.css"
			data-precedence="next"
		/>
		<link
			rel="stylesheet"
			href="/docs/prinext/static/css/cc5160e2067b0cef.css"
			data-precedence="next"
		/>
		<link
			rel="preload"
			as="script"
			fetchpriority="low"
			href="/docs/prinext/static/chunks/webpack-583a4211ac78a2fe.js"
		/>
		<script
			src="/docs/prinext/static/chunks/f064a1f5-a0f684639c5e404a.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/904-8193403601d33346.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/main-app-7d4b4602e3445646.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/779-ad4ead70309b9a20.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/739-1be71c4fce382004.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/138-7f27ef5cd2caf4b4.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/857-68a2fd358cb70760.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/594-71c3251836d38f7c.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/531-f976d425ce9a81a1.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/103-1875d9378f90876a.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/868-9c31f7c0009643d5.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/app/(app)/layout-66a850f3e6447c7d.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/245-4d9cc7d916e46c69.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/app/layout-d7953313cc6bdbf6.js"
			async=""
		></script>
		<script
			src="/docs/prinext/static/chunks/app/not-found-8b889a2f44e80cbe.js"
			async=""
		></script>
		<link
			rel="preload"
			href="https://www.googletagmanager.com/gtag/js?id=123"
			as="script"
		/>
		<meta
			name="theme-color"
			media="(prefers-color-scheme: dark)"
			content="#000212"
		/>
		<meta
			name="theme-color"
			media="(prefers-color-scheme: light)"
			content="#fafafa"
		/>
		<title>使用字节的 TRAE 开发一个简单的 node 服务 | William Sun</title>
		<meta
			name="description"
			content="使用字节的 TRAE 开发一个简单的 node 服务 - William Sun"
		/>
		<link
			rel="manifest"
			href="/site.webmanifest"
			crossorigin="use-credentials"
		/>
		<meta name="keywords" content="AI,编辑器" />
		<meta name="baidu-site-verification" content="codeva-7AmpPWgzQY" />
		<meta
			name="google-site-verification"
			content="TTbfOvWmLj0icfk0BQNUZB3crwReji82Q_vRdnZFFAc"
		/>
		<link rel="canonical" href="https://dhc.ink/posts/post-44" />
		<link
			rel="alternate"
			type="application/rss+xml"
			title="RSS 订阅"
			href="https://luckysnail.cn/rss"
		/>
		<meta
			property="og:title"
			content="使用字节的 TRAE 开发一个简单的 node 服务"
		/>
		<meta
			property="og:description"
			content="使用字节的 TRAE 开发一个简单的 node 服务 - William Sun"
		/>
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:creator" content="@haozhan05554957" />
		<meta name="twitter:title" content="William Sunblog | 前端 | 开发者" />
		<meta
			name="twitter:description"
			content="我是William Sun，一名充满热情的前端开发工程师。我热衷于探索和体验最新技术，特别是人工智能（AI），并在日常工作中去使用它们，来提升我的工作效率。我的目标是积极参与开源社区，为开源项目贡献自己的力量。正如我的名字，我相信越努力，越幸运"
		/>
		<meta name="twitter:image" content="https://luckysnail.cn/og.png" />
		<link
			rel="icon"
			href="/docs/favicon.ico"
			type="image/x-icon"
			sizes="32x32"
		/>
		<link
			rel="icon"
			href="/docs/icon.jpg?021a5ddd40907a91"
			type="image/jpeg"
			sizes="256x256"
		/>
		<link
			rel="apple-touch-icon"
			href="/docs/apple-icon.jpg?58f0c05bf91c4519"
			type="image/jpeg"
			sizes="1022x1023"
		/>
		<script
			src="/docs/prinext/static/chunks/polyfills-78c92fac7aa8fdd8.js"
			nomodule=""
		></script>
	</head>
	<body>
		<script>
			!(function () {
				try {
					var d = document.documentElement,
						c = d.classList;
					c.remove('light', 'dark');
					var e = localStorage.getItem('theme');
					if ('system' === e || (!e && true)) {
						var t = '(prefers-color-scheme: dark)',
							m = window.matchMedia(t);
						if (m.media !== t || m.matches) {
							d.style.colorScheme = 'dark';
							c.add('dark');
						} else {
							d.style.colorScheme = 'light';
							c.add('light');
						}
					} else if (e) {
						c.add(e || '');
					}
					if (e === 'light' || e === 'dark') d.style.colorScheme = e;
				} catch (e) {}
			})();
		</script>
		<div
			class="z-[-1] absolute bottom-0 left-0 right-0 top-0 bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:14px_24px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"
		></div>
		<div class="fixed inset-0 flex justify-center sm:px-8">
			<div class="flex w-full max-w-7xl lg:px-8">
				<div
					class="opacity-95 w-full bg-zinc-50/90 ring-1 ring-zinc-100 dark:bg-zinc-900/80 dark:ring-zinc-400/20"
				></div>
			</div>
		</div>
		<div class="relative text-zinc-800 dark:text-zinc-200">
			<header
				class="pointer-events-none relative z-50 mb-[var(--header-mb,0px)] flex flex-col h-[var(--header-height,64px)]"
			>
				<div
					class="top-0 z-10 h-16 pt-6"
					style="position: var(--header-position)"
				>
					<div
						class="sm:px-8 top-[var(--header-top,theme(spacing.6))] w-full"
						style="position: var(--header-inner-position)"
					>
						<div class="mx-auto max-w-7xl lg:px-8">
							<div class="relative px-4 sm:px-8 lg:px-12">
								<div class="mx-auto max-w-2xl lg:max-w-5xl">
									<div class="relative flex gap-4">
										<div
											class="flex flex-1"
											style="opacity: 0; transform: translateY(15px)"
										>
											<div>
												<div
													class="h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10"
												>
													<a
														aria-label="主页"
														class="pointer-events-auto"
														href="/docs"
														><img
															alt=""
															loading="lazy"
															width="256"
															height="256"
															decoding="async"
															data-nimg="1"
															class="rounded-full bg-zinc-100 object-cover dark:bg-zinc-800 h-9 w-9"
															style="color: transparent"
															src="/docs/prinext/static/media/logo.d3f4655a.webp"
													/></a>
												</div>
											</div>
										</div>
										<div class="flex flex-1 justify-end md:justify-center">
											<button
												class="group flex items-center rounded-full bg-gradient-to-b from-zinc-50/20 to-white/80 px-4 py-2 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur-md focus:outline-none focus-visible:ring-2 dark:from-zinc-900/30 dark:to-zinc-800/80 dark:text-zinc-200 dark:ring-white/10 dark:hover:ring-white/20 dark:focus-visible:ring-yellow-500/80 pointer-events-auto relative z-50 md:hidden"
												type="button"
												aria-haspopup="dialog"
												aria-expanded="false"
												aria-controls="radix-:R3abnqra:"
												data-state="closed"
											>
												前往<svg
													viewBox="0 0 8 6"
													aria-hidden="true"
													class="ml-3 h-auto w-2 stroke-zinc-500 group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-400"
												>
													<path
														d="M1.75 1.75 4 4.25l2.25-2.5"
														fill="none"
														stroke-width="1.5"
														stroke-linecap="round"
														stroke-linejoin="round"
													></path>
												</svg>
											</button>
											<nav
												class="group rounded-full bg-gradient-to-b from-zinc-50/70 to-white/90 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur-md dark:from-zinc-900/70 dark:to-zinc-800/90 dark:ring-zinc-100/10 [--spotlight-color:rgb(236_252_203_/_0.6)] dark:[--spotlight-color:rgb(217_249_157_/_0.07)] pointer-events-auto relative z-50 hidden md:block"
											>
												<div
													class="pointer-events-none absolute -inset-px rounded-full opacity-0 transition-opacity duration-500 group-hover:opacity-100"
													aria-hidden="true"
													style="
														background: radial-gradient(
															0px circle at 0px 0px,
															var(--spotlight-color) 0%,
															transparent 65%
														);
													"
												></div>
												<ul
													class="flex bg-transparent px-3 text-sm font-medium text-zinc-800 dark:text-zinc-200"
												>
													<li
														class="relative block whitespace-nowrap px-3 py-2 transition hover:text-violet-500 dark:hover:text-violet-400"
													>
														<a target="_self" href="/docs">首页</a>
													</li>
													<li
														class="relative block whitespace-nowrap px-3 py-2 transition hover:text-violet-500 dark:hover:text-violet-400"
													>
														<a target="_self" href="/docs/posts">博客</a>
													</li>
													<li
														class="relative block whitespace-nowrap px-3 py-2 transition hover:text-violet-500 dark:hover:text-violet-400"
													>
														<a target="_self" href="/docs/about">关于我</a>
													</li>
												</ul>
											</nav>
										</div>
										<div
											class="flex justify-end gap-3 md:flex-1"
											style="
												opacity: 0;
												transform: translateY(-20px) scale(0.95);
											"
										>
											<div class="pointer-events-auto">
												<!--$!--><template
													data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"
												></template
												><!--/$-->
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</header>
			<main>
				<!--$-->
				<div class="sm:px-8 mt-10 lg:mt-16">
					<div class="mx-auto max-w-7xl lg:px-8">
						<div class="relative px-4 sm:px-8 lg:px-12 !px-0">
							<div class="mx-auto max-w-2xl lg:max-w-5xl">
								<div
									class="w-full md:flex md:justify-between xl:relative gap-1"
								>
									<aside class="hidden w-[160px] shrink-0 lg:block">
										<div class="sticky top-2 pt-16">
											<div class="toc-container">
												<h2 class="text-lg font-semibold mb-4">目录</h2>
												<ul
													class="js-toc group pointer-events-auto flex flex-col space-y-2 text-zinc-500"
													style="opacity: 0"
												></ul>
											</div>
										</div>
									</aside>
									<div class="max-w-4xl md:flex-1 md:shrink-0">
										<a
											class="group mb-8 flex h-10 w-10 items-center justify-center bg-white dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:hover:border-zinc-700 lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0 group rounded-full bg-gradient-to-b from-zinc-50/50 to-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:from-zinc-900/50 dark:to-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20"
											aria-label="返回博客页面"
											href="/docs/posts"
											><svg
												width="1em"
												height="1em"
												viewBox="0 0 24 24"
												fill="none"
												xmlns="http://www.w3.org/2000/svg"
												class="h-8 w-8 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400"
											>
												<path
													d="M8.03089 4C6.57669 5.05865 5.2706 6.29537 4.14485 7.67887C4.04828 7.79755 4 7.94044 4 8.08333M8.03089 12.1667C6.57669 11.108 5.2706 9.8713 4.14485 8.4878C4.04828 8.36912 4 8.22623 4 8.08333M4 8.08333H14.963C17.7448 8.08333 20 10.3033 20 13.0417C20 15.7801 17.7448 18 14.963 18H12"
													stroke="currentColor"
													stroke-width="2"
													stroke-linecap="round"
													stroke-linejoin="round"
												></path></svg
										></a>
										<article
											data-postid="data/blog/post-44.mdx"
											class="rich-text-viewer prose px-4"
										>
											<div class="mb-8 text-center">
												<h1 class="text-3xl font-bold">
													使用字节的 TRAE 开发一个简单的 node 服务
												</h1>
												<div
													class="flex justify-center rounded-md h-5 items-center space-x-4 text-sm"
												>
													<time
														datetime="2025-01-21T04:12:35.000Z"
														class="mb-1 text-xs text-gray-600"
														>2025-01-21</time
													>
													<div
														data-orientation="vertical"
														role="none"
														class="shrink-0 bg-border h-full w-[1px]"
													></div>
													<span
														class="mb-1 text-xs text-gray-600 flex items-center"
														><svg
															width="1em"
															height="1em"
															viewBox="0 0 24 24"
															fill="none"
															xmlns="http://www.w3.org/2000/svg"
															class="mr-2"
														>
															<path
																d="M10.1912 12.5508C10.3071 12.1942 10.3071 11.8058 10.1912 11.4492C9.22165 8.46673 4.40272 8.00546 4.01443 4.48436C3.93458 3.76031 4.18955 3.04013 4.69671 2.55723C5.28193 2 6.62415 2 9.30861 2H14.6914C17.3759 2 18.7181 2 19.3033 2.55723C19.8104 3.04013 20.0654 3.76031 19.9856 4.48436C19.5973 8.00546 14.7784 8.46673 13.8088 11.4492C13.6929 11.8058 13.6929 12.1942 13.8088 12.5508C14.7784 15.5333 19.5973 15.9945 19.9856 19.5156C20.0654 20.2397 19.8104 20.9599 19.3033 21.4428C18.7181 22 17.3758 22 14.6914 22L9.3086 22C6.62415 22 5.28192 22 4.69671 21.4428C4.18955 20.9599 3.93458 20.2397 4.01442 19.5156C4.40272 15.9945 9.22164 15.5333 10.1912 12.5508Z"
																stroke="currentColor"
																stroke-width="2"
																stroke-linecap="round"
																stroke-linejoin="round"
															></path>
														</svg>
														<!-- -->21<!-- -->
														分钟</span
													>
												</div>
												<div class="flex w-full justify-center gap-2 mt-2">
													<span
														class="inline-flex items-center px-2 h-5 rounded-md text-xs bg-gray-300 text-gray-800"
														>AI</span
													><span
														class="inline-flex items-center px-2 h-5 rounded-md text-xs bg-gray-300 text-gray-800"
														>编辑器</span
													>
												</div>
											</div>
											<div class="js-toc-content">
												<p></p>
												<p>
													大家好我是
													luckySnail。在浏览流媒体的时候，发现都在推荐这个工具，字节刚刚发布了
													AI 编辑器 - TRAE（The Real AI Engineer），真正的 AI
													引擎吗？，必须赶紧体验一波，刚好想要开发一个小工具，希望它不要让我失望。偷偷说一下它已经让
													windows 用户失望了，因为它目前仅支持 mac
													电脑。你可以看冴羽的这篇了解TRAE：<a
														href="https://juejin.cn/post/7461825527059611686"
														>https://juejin.cn/post/7461825527059611686</a
													>
												</p>
												<h2 id="初体验">
													<a class="anchor" href="#初体验">初体验</a>
												</h2>
												<p>
													让我们新建一个文件夹，为什么叫这个名字，接下来你就知道了。
												</p>
												<p></p>
												<p>
													接下来我们要做一个工具来帮我监控我的公司项目是否都正常运行。如果出问题了，就需要赶紧通知我出事了，赶紧爬起来修
													bug ！
												</p>
												<p>
													简单的梳理了一下需求，我使用了它的 builder
													能力来初始化项目，提问：“我要做一个小的工具来帮我们监控我的公司项目是否都正常运行。如果出问题了，就需要赶紧通知我出事了，赶紧修
													bug
													。通知方式是邮箱通知，使用前端技术实现，我如何实现？我目前调研可以使用
													Playwright 来做充分的网站可用性检测，使用nodemailer
													来进行邮箱通知，由于 nodemailer 是必须 node
													环境，所以你需要给我搭建一个 node
													服务”，这里我是预先告诉了它如何实现，防止它给出不合理的实现方式。
												</p>
												<p>
													然后它很快理解了我们的需求，并且搭建好了一个基础服务：
												</p>
												<p></p>
												<p>
													启动项目后发现邮箱服务是有问题的，于是我把错误信息给它，然后问它为什么？如何修复？但是会出现：
												</p>
												<p></p>
												<p>
													于是我只能切换 chat
													模式，发现是正常的，我把问题和相关代码（使用引用能力）给到它。它也很快发现了问题，然后给出了解决的方法。
												</p>
												<p>
													我模拟了一个网站出现问题的场景，然后我们可以看到当检查网站存在问题的时候，就会触发发送邮件的逻辑：
												</p>
												<p></p>
												<p>
													到这里基本的流程算是跑通了，我们可以继续提问
													AI，代码层面是否可以继续优化：
												</p>
												<p></p>
												<p>
													它给出了一些比较好的建议，我们可以点击“全部接受”，然后先安装依赖，再次启动查看一下效果：
												</p>
												<p></p>
												<p>
													这一次，它给出了更加细致的日志信息，但是我们发现最后一个
													error 不太正常，我们问一下 AI 这个是否是正常日志，AI
													发现了问题，并进行了修复，我们重启验证逻辑没有问题
												</p>
												<p></p>
												<p>邮箱也收到了告警信息！</p>
												<p>
													到这里其实基本的牛马已经做好了，它能够实时的帮我监控网站是否运行良好，保证服务异常及时通知到人。但是真正场景下，需要的不仅仅是网站正常加载，还有很多其他需要监控的东西。
												</p>
												<p>下面我们来看看 AI 的代码水平怎么样吧！</p>
												<pre
													class="language-js"
												><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> chromium <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@playwright/test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> nodemailer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;nodemailer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> cron <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;node-cron&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> winston <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;winston&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加日志库</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 配置日志</span>
</span><span class="code-line"><span class="token keyword">const</span> logger <span class="token operator">=</span> winston<span class="token punctuation">.</span><span class="token method function property-access">createLogger</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">format</span><span class="token operator">:</span> winston<span class="token punctuation">.</span><span class="token property-access">format</span><span class="token punctuation">.</span><span class="token method function property-access">combine</span><span class="token punctuation">(</span>winston<span class="token punctuation">.</span><span class="token property-access">format</span><span class="token punctuation">.</span><span class="token method function property-access">timestamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> winston<span class="token punctuation">.</span><span class="token property-access">format</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">transports</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token keyword">new</span> <span class="token class-name">winston<span class="token punctuation">.</span>transports<span class="token punctuation">.</span>File</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;error.log&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">level</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">new</span> <span class="token class-name">winston<span class="token punctuation">.</span>transports<span class="token punctuation">.</span>File</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;combined.log&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">new</span> <span class="token class-name">winston<span class="token punctuation">.</span>transports<span class="token punctuation">.</span>Console</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 邮件配置</span>
</span><span class="code-line"><span class="token keyword">const</span> transporter <span class="token operator">=</span> nodemailer<span class="token punctuation">.</span><span class="token method function property-access">createTransport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&quot;smtp.qq.com&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">465</span><span class="token punctuation">,</span> <span class="token comment">// 修改为465端口</span>
</span><span class="code-line">  <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 设置为true</span>
</span><span class="code-line">  <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">&quot;3074994545@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 补充完整的QQ邮箱地址</span>
</span><span class="code-line">    <span class="token literal-property property">pass</span><span class="token operator">:</span> <span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">,</span> <span class="token comment">// QQ邮箱授权码</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 要监控的网站列表</span>
</span><span class="code-line"><span class="token keyword">const</span> websites <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;老鱼简历&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://laoyujianli.com&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">checkElements</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;.laoyu-page-container&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.new-index-page&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.template-item&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;编程导航&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://codefather.cn&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">checkElements</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;.ant-layout&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.user-name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;面试鸭&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://mianshiya.cn&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 移除多余的空格</span>
</span><span class="code-line">    <span class="token literal-property property">checkElements</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;#indexPage&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.ant-list-item&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#ccc&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">retryCount</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 添加重试次数</span>
</span><span class="code-line">    <span class="token literal-property property">retryDelay</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token comment">// 重试延迟时间（毫秒）</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 浏览器实例管理</span>
</span><span class="code-line"><span class="token keyword">let</span> browserInstance <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getBrowser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>browserInstance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    browserInstance <span class="token operator">=</span> <span class="token keyword control-flow">await</span> chromium<span class="token punctuation">.</span><span class="token method function property-access">launch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">60000</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword control-flow">return</span> browserInstance<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 检查网站可用性</span>
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">checkWebsite</span><span class="token punctuation">(</span><span class="token parameter">site</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> startTime <span class="token operator">=</span> <span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> browser <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">getBrowser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword control-flow">await</span> browser<span class="token punctuation">.</span><span class="token method function property-access">newContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token literal-property property">userAgent</span><span class="token operator">:</span>
</span><span class="code-line">      <span class="token string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword control-flow">await</span> context<span class="token punctuation">.</span><span class="token method function property-access">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    logger<span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">正在检查网站: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>site<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">let</span> lastError<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token comment">// 添加重试机制</span>
</span><span class="code-line">    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span>site<span class="token punctuation">.</span><span class="token property-access">retryCount</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token comment">// 设置页面加载超时时间</span>
</span><span class="code-line">        <span class="token keyword control-flow">await</span> page<span class="token punctuation">.</span><span class="token method function property-access">goto</span><span class="token punctuation">(</span>site<span class="token punctuation">.</span><span class="token property-access">url</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token literal-property property">waitUntil</span><span class="token operator">:</span> <span class="token string">&quot;networkidle&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 等待网络空闲</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// 检查关键元素是否存在</span>
</span><span class="code-line">        <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> selector <span class="token keyword">of</span> site<span class="token punctuation">.</span><span class="token property-access">checkElements</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token keyword control-flow">await</span> page<span class="token punctuation">.</span><span class="token method function property-access">waitForSelector</span><span class="token punctuation">(</span>selector<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">5000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>elementError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">元素 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>selector<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 未找到，继续检查其他元素</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>site<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 检查通过</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        lastError <span class="token operator">=</span> error<span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token punctuation">(</span>site<span class="token punctuation">.</span><span class="token property-access">retryCount</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>site<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 检查失败，等待 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>site<span class="token punctuation">.</span><span class="token property-access">retryDelay</span> <span class="token operator">||</span> <span class="token number">5000</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ms 后重试...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token keyword control-flow">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> site<span class="token punctuation">.</span><span class="token property-access">retryDelay</span> <span class="token operator">||</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>site<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 检查失败:</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> lastError<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token literal-property property">error</span><span class="token operator">:</span> lastError<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span> <span class="token keyword control-flow">finally</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">await</span> context<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 只关闭 context，不关闭浏览器</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 添加进程退出时的清理</span>
</span><span class="code-line">process<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">&quot;SIGTERM&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  logger<span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span><span class="token string">&quot;服务正在关闭...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>browserInstance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">await</span> browserInstance<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    browserInstance <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">process<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">&quot;SIGINT&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  logger<span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span><span class="token string">&quot;服务正在关闭...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>browserInstance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">await</span> browserInstance<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    browserInstance <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 发送告警邮件</span>
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">sendAlertEmail</span><span class="token punctuation">(</span><span class="token parameter">site<span class="token punctuation">,</span> error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> mailOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword module">from</span><span class="token operator">:</span> <span class="token string">&quot;3074994545@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 使用完整的发件人邮箱</span>
</span><span class="code-line">    <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&quot;3074994545@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 使用完整的收件人邮箱</span>
</span><span class="code-line">    <span class="token literal-property property">subject</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">🚨 网站异常告警: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>site<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;h2&gt;网站监控告警&lt;/h2&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;p&gt;&lt;strong&gt;网站名称:&lt;/strong&gt; </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>site<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;p&gt;&lt;strong&gt;网站地址:&lt;/strong&gt; </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>site<span class="token punctuation">.</span><span class="token property-access">url</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;p&gt;&lt;strong&gt;错误信息:&lt;/strong&gt; </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;p&gt;&lt;strong&gt;发生时间:&lt;/strong&gt; </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">await</span> transporter<span class="token punctuation">.</span><span class="token method function property-access">sendMail</span><span class="token punctuation">(</span>mailOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">已发送告警邮件 - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>site<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">&quot;发送邮件失败:&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token comment">// 如果是认证错误，输出更详细的信息</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span><span class="token property-access">code</span> <span class="token operator">===</span> <span class="token string">&quot;EAUTH&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">&quot;邮箱认证失败，请检查以下内容：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">&quot;1. 确保QQ邮箱已开启SMTP服务&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">&quot;2. 确保使用的是正确的授权码而不是邮箱密码&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">&quot;3. 访问 https://service.mail.qq.com/cgi-bin/help?subtype=1&amp;&amp;id=28&amp;&amp;no=1001256 获取帮助&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 执行监控任务</span>
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">runMonitoring</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 添加并发限制</span>
</span><span class="code-line">  <span class="token keyword">const</span> concurrentLimit <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> chunks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> websites<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> concurrentLimit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    chunks<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>websites<span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> i <span class="token operator">+</span> concurrentLimit<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> chunk <span class="token keyword">of</span> chunks<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">await</span> <span class="token known-class-name class-name">Promise</span><span class="token punctuation">.</span><span class="token method function property-access">all</span><span class="token punctuation">(</span>
</span><span class="code-line">      chunk<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">site</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">checkWebsite</span><span class="token punctuation">(</span>site<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">.</span><span class="token property-access">success</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token keyword control-flow">await</span> <span class="token function">sendAlertEmail</span><span class="token punctuation">(</span>site<span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token property-access">error</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          logger<span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">监控任务执行失败 (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>site<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">):</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token literal-property property">error</span><span class="token operator">:</span> error<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token literal-property property">stack</span><span class="token operator">:</span> error<span class="token punctuation">.</span><span class="token property-access">stack</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 添加优雅退出处理</span>
</span><span class="code-line">process<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">&quot;SIGTERM&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  logger<span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span><span class="token string">&quot;服务正在关闭...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>browserInstance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">await</span> browserInstance<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  process<span class="token punctuation">.</span><span class="token method function property-access">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 设置定时任务，每5分钟执行一次监控</span>
</span><span class="code-line">cron<span class="token punctuation">.</span><span class="token method function property-access">schedule</span><span class="token punctuation">(</span><span class="token string">&quot;*/5 * * * *&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;开始执行网站监控...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function">runMonitoring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 立即执行一次监控</span>
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;启动网站监控服务...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token function">runMonitoring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span></code></pre>
												<p>你觉得写的怎么样呢？我觉得蛮好的：</p>
												<ul>
													<li>
														代码逻辑清晰，每个函数都符合单一原则，开发中它也提醒我要把
														websites 配置信息单独创建文件存储
													</li>
													<li>
														能够基于代码进行重构优化，使用社区流行的 winston
														日志库来记录信息
													</li>
													<li>有重试，try catch 兜底逻辑</li>
												</ul>
												<h2 id="总结">
													<a class="anchor" href="#总结">总结</a>
												</h2>
												<ol>
													<li>TRAE 的 UI 和交互不输 cursor</li>
													<li>
														builder
														模式下，提出一个需求，它能快速帮我拆解需求，生成项目，安装依赖，启动项目到最后的
														web 预览。这对没有接触过编程的人更加友好
													</li>
													<li>
														在有些时候，它也会乱说，明明有问题，但是硬说已经解决了！
													</li>
													<li>
														连接不稳定，经常网络错误，这个非常影响开发体验
													</li>
													<li>免费使用 claude 3.5 和 chatGpt 很香。</li>
													<li>
														代码块右上角的一些能力非常好用，例如应用功能，能够智能的把相关的内容进行替换，然后通过
														diff 清晰的让你知道你修改了什么
													</li>
													<li>
														感觉模型深度链接了代码上下文，能给出和我目前项目相关的代码
													</li>
													<li>
														暴论：由于模型能力的限制，无论如何优化交互，流程。目前没有编程基础的人很难使用
														AI 编辑器开发出真正的产品
													</li>
												</ol>
												<p>需要深度使用才能发现它更多使用场景！</p>
												<blockquote>
													<p>
														源码：<a href="https://github.com/chaseFunny/niuma"
															>https://github.com/chaseFunny/niuma</a
														>
													</p>
												</blockquote>
												<hr />
												<p>
													此文自动发布于：<a
														href="https://github.com/coderPerseus/blog/issues/44"
														target="_blank"
														>github issues</a
													>
												</p>
											</div>
										</article>
										<div class="flex px-4 justify-between mt-8">
											<a
												class="inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2"
												href="/docs/posts/post-45"
												>搭建前端脚手架（上）</a
											><a
												class="inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2"
												href="/docs/posts/post-43"
												>再回首，一次很失败的项目负责人体验</a
											>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--/$-->
			</main>
			<!--$-->
			<footer class="mt-32">
				<div class="sm:px-8">
					<div class="mx-auto max-w-7xl lg:px-8">
						<div
							class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40"
						>
							<div class="relative px-4 sm:px-8 lg:px-12">
								<div class="mx-auto max-w-2xl lg:max-w-5xl">
									<div
										class="flex flex-col items-center justify-between gap-6 sm:flex-row"
									>
										<p class="text-sm text-zinc-500/80 dark:text-zinc-400/80">
											©
											<!-- -->2025<!-- -->
											<!-- -->William Sun<!-- --> 网站已开源：<a
												class="inline-flex place-items-baseline items-baseline gap-0.5 pr-0.5 text-[0.95em] leading-none font-semibold text-zinc-800 hover:underline dark:text-zinc-100"
												rel="noopener noreferrer"
												target="_blank"
												href="https://github.com/coderPerseus/blog"
												><span
													class="mr-px inline-flex translate-y-0.5 dark:invert"
													><img
														alt=""
														aria-hidden="true"
														loading="lazy"
														width="16"
														height="16"
														decoding="async"
														data-nimg="1"
														class="inline h-4 w-4 rounded"
														style="color: transparent"
														src="/docs/prinext/static/media/github.ee3e4451.png" /></span
												>William Sun<svg
													width="0.95em"
													height="0.95em"
													viewBox="0 0 24 24"
													fill="none"
													xmlns="http://www.w3.org/2000/svg"
													class="inline-block translate-y-0.5"
													aria-hidden="true"
												>
													<path
														d="M20 13.5001C20 14.8946 20 15.5919 19.8618 16.1673C19.4229 17.9956 17.9955 19.423 16.1672 19.8619C15.5918 20.0001 14.8945 20.0001 13.5 20.0001H12C9.19974 20.0001 7.79961 20.0001 6.73005 19.4551C5.78924 18.9758 5.02433 18.2109 4.54497 17.2701C4 16.2005 4 14.8004 4 12.0001V11.5001C4 9.17035 4 8.0055 4.3806 7.08664C4.88807 5.8615 5.86144 4.88813 7.08658 4.38066C7.86344 4.05888 8.81614 4.00915 10.5 4.00146M19.7597 9.45455C20.0221 7.8217 20.0697 6.16984 19.9019 4.54138C19.8898 4.42328 19.838 4.31854 19.7597 4.24027M19.7597 4.24027C19.6815 4.16201 19.5767 4.11023 19.4586 4.09806C17.8302 3.93025 16.1783 3.97792 14.5455 4.24027M19.7597 4.24027L10 14"
														stroke="currentColor"
														stroke-width="2"
														stroke-linecap="round"
														stroke-linejoin="round"
													></path></svg
											></a>
										</p>
										<nav
											class="flex gap-6 text-sm font-medium text-zinc-800 dark:text-zinc-200"
										>
											<a
												class="transition hover:text-violet-500 dark:hover:text-violet-400"
												href="/docs"
												>首页</a
											><a
												class="transition hover:text-violet-500 dark:hover:text-violet-400"
												href="/docs/posts"
												>博客</a
											><a
												class="transition hover:text-violet-500 dark:hover:text-violet-400"
												href="/docs/about"
												>关于我</a
											>
										</nav>
									</div>
								</div>
							</div>
							<div class="relative px-4 sm:px-8 lg:px-12 mt-6">
								<div class="mx-auto max-w-2xl lg:max-w-5xl">
									<div
										class="flex flex-col items-center justify-start gap-2 sm:flex-row"
									>
										欢迎 👏🏻 你的访问
									</div>
								</div>
							</div>
							<div class="flex justify-center p-6 flex-col sm:flex-row">
								<a
									target="_blank"
									class="text-blue-600 flex justify-center items-center"
									href="https://beian.miit.gov.cn/"
									><img
										alt="备案"
										loading="lazy"
										width="18"
										height="18"
										decoding="async"
										data-nimg="1"
										class="mr-1"
										style="color: transparent"
										src="/docs/police.png"
									/>辽公网安备21021202000334号</a
								><a
									target="_blank"
									class="text-blue-600 pl-6 flex justify-center items-center"
									href="https://beian.miit.gov.cn/"
									>辽ICP备2021012379号-1</a
								>
							</div>
						</div>
					</div>
				</div>
			</footer>
			<!--/$-->
		</div>
		<script
			src="/docs/prinext/static/chunks/webpack-583a4211ac78a2fe.js"
			async=""
		></script>
		<script>
			(self.__next_f = self.__next_f || []).push([0]);
			self.__next_f.push([2, null]);
		</script>
		<script>
			self.__next_f.push([
				1,
				'1:HL["/docs/prinext/static/css/8cd2eb158671e11e.css","style"]\n2:HL["/docs/prinext/static/css/cc5160e2067b0cef.css","style"]\n'
			]);
		</script>
		<script>
			self.__next_f.push([
				1,
				'3:I[1439,[],""]\n5:I[7401,["779","static/chunks/779-ad4ead70309b9a20.js","739","static/chunks/739-1be71c4fce382004.js","138","static/chunks/138-7f27ef5cd2caf4b4.js","857","static/chunks/857-68a2fd358cb70760.js","594","static/chunks/594-71c3251836d38f7c.js","878","static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js"],"default"]\n6:I[2219,["779","static/chunks/779-ad4ead70309b9a20.js","739","static/chunks/739-1be71c4fce382004.js","138","static/chunks/138-7f27ef5cd2caf4b4.js","857","static/chunks/857-68a2fd358cb70760.js","594","static/chunks/594-71c3251836d38f7c.js","878","static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js"],""]\n7:I[6814,["779","static/chunks/779-ad4ead70309b9a20.js","739","static/chunks/739-1be71c4fce382004.js","138","static/chunks/138-7f27ef5cd2caf4b4.js","857","static/chunks/857-68a2fd358cb70760.js","594","static/chunks/594-71c3251836d38f7c.js","878","static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js"],"Separator"]\n8:I[8501,["779","static/chunks/779-ad4ead70309b9a20.js","739","static/chunks/739-1be71c4fce382004.js","138","static/chunks/138-7f27ef5cd2caf4b4.js","857","static/chunks/857-68a2fd358cb70760.js","594","static/chunks/594-71c3251836d38f7c.js","878","static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js"],"default"]\n9:I[1473,[],""]\nb:I[9658,[],""]\nc:I[3205,["779","static/chunks/779-ad4ead70309b9a20.js","739","static/chunks/739-1be71c4fce382004.js","138","static/chunks/138-7f27ef5cd2caf4b4.js","531","static/chunks/531-f976d425ce9a81a1.js","103","static/chunks/103-1875d9378f90876a.js","868","static/chunks/868-9c31f7c0009643d5.js","814","static/chunks/app/(app)/layout-66a850f3e6447c7d.js"],"GlobalBg"]\nd:I[7726,["779","static/chunks/779-ad4ead70309b9a20.js","739","static/chunks/739-1be71c4fce382004.js","138","static/chunks/138-7f27ef5cd2caf4b4.js","531","static/chunks/531-f976d425ce9a81a1.js","103","static/chunks/103-1875d9378f90876a.js","868","static/chunks/868-9c31f7c0009643d5.js","814","static/chunks/app/(app)/layout-66a850f3e6447c7d.js"],"Head'
			]);
		</script>
		<script>
			self.__next_f.push([
				1,
				'er"]\ne:"$Sreact.suspense"\nf:I[4662,["779","static/chunks/779-ad4ead70309b9a20.js","739","static/chunks/739-1be71c4fce382004.js","138","static/chunks/138-7f27ef5cd2caf4b4.js","531","static/chunks/531-f976d425ce9a81a1.js","103","static/chunks/103-1875d9378f90876a.js","868","static/chunks/868-9c31f7c0009643d5.js","814","static/chunks/app/(app)/layout-66a850f3e6447c7d.js"],"PeekabooLink"]\n10:I[4543,["779","static/chunks/779-ad4ead70309b9a20.js","739","static/chunks/739-1be71c4fce382004.js","138","static/chunks/138-7f27ef5cd2caf4b4.js","857","static/chunks/857-68a2fd358cb70760.js","594","static/chunks/594-71c3251836d38f7c.js","878","static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js"],"Image"]\n11:I[2962,["245","static/chunks/245-4d9cc7d916e46c69.js","857","static/chunks/857-68a2fd358cb70760.js","185","static/chunks/app/layout-d7953313cc6bdbf6.js"],"default"]\n12:I[7808,["245","static/chunks/245-4d9cc7d916e46c69.js","857","static/chunks/857-68a2fd358cb70760.js","185","static/chunks/app/layout-d7953313cc6bdbf6.js"],"default"]\n13:I[5433,["245","static/chunks/245-4d9cc7d916e46c69.js","857","static/chunks/857-68a2fd358cb70760.js","185","static/chunks/app/layout-d7953313cc6bdbf6.js"],"ThemeProvider"]\n14:I[3970,["779","static/chunks/779-ad4ead70309b9a20.js","739","static/chunks/739-1be71c4fce382004.js","160","static/chunks/app/not-found-8b889a2f44e80cbe.js"],"default"]\n16:I[2716,[],""]\na:["id","post-44","d"]\n17:[]\n'
			]);
		</script>
		<script>
			self.__next_f.push([
				1,
				'0:[[["$","link","0",{"rel":"stylesheet","href":"/docs/prinext/static/css/8cd2eb158671e11e.css","precedence":"next","crossOrigin":"$undefined"}]],["$","$L3",null,{"buildId":"weVExY6-jENQW9lG_RHEX","assetPrefix":"/docs","initialCanonicalUrl":"/posts/post-44","initialTree":["",{"children":["(app)",{"children":["posts",{"children":[["id","post-44","d"],{"children":["__PAGE__?{\\"id\\":\\"post-44\\"}",{}]}]}]}]},"$undefined","$undefined",true],"initialSeedData":["",{"children":["(app)",{"children":["posts",{"children":[["id","post-44","d"],{"children":["__PAGE__",{},[["$L4",["$","div",null,{"className":"sm:px-8 mt-10 lg:mt-16","children":["$","div",null,{"className":"mx-auto max-w-7xl lg:px-8","children":["$","div",null,{"className":"relative px-4 sm:px-8 lg:px-12 !px-0","children":["$","div",null,{"className":"mx-auto max-w-2xl lg:max-w-5xl","children":["$","div",null,{"className":"w-full md:flex md:justify-between xl:relative gap-1","children":[["$","aside",null,{"className":"hidden w-[160px] shrink-0 lg:block","children":["$","div",null,{"className":"sticky top-2 pt-16","children":["$","$L5",null,{}]}]}],["$","div",null,{"className":"max-w-4xl md:flex-1 md:shrink-0 ","children":[["$","$L6",null,{"href":"/posts","className":"group mb-8 flex h-10 w-10 items-center justify-center bg-white dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:hover:border-zinc-700 lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0 group rounded-full bg-gradient-to-b from-zinc-50/50 to-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:from-zinc-900/50 dark:to-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20","aria-label":"返回博客页面","children":["$","svg",null,{"width":"1em","height":"1em","viewBox":"0 0 24 24","fill":"none","xmlns":"http://www.w3.org/2000/svg","className":"h-8 w-8 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400","children":["$","path",null,{"d":"M8.03089 4C6.57669 5.05865 5.2706 6.29537 4.14485 7.67887C4.04828 7.79755 4 7.94044 4 8.08333M8.03089 12.1667C6.57669 11.108 5.2706 9.8713 4.14485 8.4878C4.04828 8.36912 4 8.22623 4 8.08333M4 8.08333H14.963C17.7448 8.08333 20 10.3033 20 13.0417C20 15.7801 17.7448 18 14.963 18H12","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"}]}]}],["$","article",null,{"data-postid":"data/blog/post-44.mdx","className":"rich-text-viewer prose px-4","children":[["$","div",null,{"className":"mb-8 text-center","children":["$undefined",["$","h1",null,{"className":"text-3xl font-bold","children":"使用字节的 TRAE 开发一个简单的 node 服务"}],["$","div",null,{"className":"flex justify-center rounded-md  h-5 items-center space-x-4 text-sm","children":[["$","time",null,{"dateTime":"2025-01-21T04:12:35.000Z","className":"mb-1 text-xs text-gray-600","children":"2025-01-21"}],["$","$L7",null,{"orientation":"vertical"}],["$","span",null,{"className":"mb-1 text-xs text-gray-600 flex items-center","children":[["$","svg",null,{"width":"1em","height":"1em","viewBox":"0 0 24 24","fill":"none","xmlns":"http://www.w3.org/2000/svg","className":"mr-2","children":["$","path",null,{"d":"M10.1912 12.5508C10.3071 12.1942 10.3071 11.8058 10.1912 11.4492C9.22165 8.46673 4.40272 8.00546 4.01443 4.48436C3.93458 3.76031 4.18955 3.04013 4.69671 2.55723C5.28193 2 6.62415 2 9.30861 2H14.6914C17.3759 2 18.7181 2 19.3033 2.55723C19.8104 3.04013 20.0654 3.76031 19.9856 4.48436C19.5973 8.00546 14.7784 8.46673 13.8088 11.4492C13.6929 11.8058 13.6929 12.1942 13.8088 12.5508C14.7784 15.5333 19.5973 15.9945 19.9856 19.5156C20.0654 20.2397 19.8104 20.9599 19.3033 21.4428C18.7181 22 17.3758 22 14.6914 22L9.3086 22C6.62415 22 5.28192 22 4.69671 21.4428C4.18955 20.9599 3.93458 20.2397 4.01442 19.5156C4.40272 15.9945 9.22164 15.5333 10.1912 12.5508Z","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"}]}]," ",21," 分钟"]}]]}],["$","div",null,{"className":"flex w-full justify-center gap-2 mt-2","children":[["$","span",null,{"className":"inline-flex items-center px-2 h-5 rounded-md text-xs  bg-gray-300 text-gray-800","children":"AI"}],["$","span",null,{"className":"inline-flex items-center px-2 h-5 rounded-md text-xs  bg-gray-300 text-gray-800","children":"编辑器"}]]}],"$undefined"]}],["$","div",null,{"className":"js-toc-content","children":[["$","p",null,{"children":["$","$L8",null,{"src":"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/ofXcwflHCsxf.png","alt":"ofXcwflHCsxf"}]}],"\\n",["$","p",null,{"children":["大家好我是 luckySnail。在浏览流媒体的时候，发现都在推荐这个工具，字节刚刚发布了 AI 编辑器 - TRAE（The Real AI Engineer），真正的 AI 引擎吗？，必须赶紧体验一波，刚好想要开发一个小工具，希望它不要让我失望。偷偷说一下它已经让 windows 用户失望了，因为它目前仅支持 mac 电脑。你可以看冴羽的这篇了解TRAE：",["$","a",null,{"href":"https://juejin.cn/post/7461825527059611686","children":"https://juejin.cn/post/7461825527059611686"}]]}],"\\n",["$","h2",null,{"id":"初体验","children":["$","a",null,{"className":"anchor","href":"#初体验","children":"初体验"}]}],"\\n",["$","p",null,{"children":"让我们新建一个文件夹，为什么叫这个名字，接下来你就知道了。"}],"\\n",["$","p",null,{"children":["$","$L8",null,{"src":"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/image-20250120234325232.png","alt":"image-20250120234325232"}]}],"\\n",["$","p",null,{"children":"接下来我们要做一个工具来帮我监控我的公司项目是否都正常运行。如果出问题了，就需要赶紧通知我出事了，赶紧爬起来修 bug ！"}],"\\n",["$","p",null,{"children":"简单的梳理了一下需求，我使用了它的 builder 能力来初始化项目，提问：“我要做一个小的工具来帮我们监控我的公司项目是否都正常运行。如果出问题了，就需要赶紧通知我出事了，赶紧修 bug 。通知方式是邮箱通知，使用前端技术实现，我如何实现？我目前调研可以使用 Playwright 来做充分的网站可用性检测，使用nodemailer 来进行邮箱通知，由于 nodemailer 是必须 node 环境，所以你需要给我搭建一个 node 服务”，这里我是预先告诉了它如何实现，防止它给出不合理的实现方式。"}],"\\n",["$","p",null,{"children":"然后它很快理解了我们的需求，并且搭建好了一个基础服务："}],"\\n",["$","p",null,{"children":["$","$L8",null,{"src":"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/image-20250121022615877.png","alt":"image-20250121022615877"}]}],"\\n",["$","p",null,{"children":"启动项目后发现邮箱服务是有问题的，于是我把错误信息给它，然后问它为什么？如何修复？但是会出现："}],"\\n",["$","p",null,{"children":["$","$L8",null,{"src":"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/image-20250121011726558.png","alt":"image-20250121011726558"}]}],"\\n",["$","p",null,{"children":"于是我只能切换 chat 模式，发现是正常的，我把问题和相关代码（使用引用能力）给到它。它也很快发现了问题，然后给出了解决的方法。"}],"\\n",["$","p",null,{"children":"我模拟了一个网站出现问题的场景，然后我们可以看到当检查网站存在问题的时候，就会触发发送邮件的逻辑："}],"\\n",["$","p",null,{"children":["$","$L8",null,{"src":"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/image-20250121012111907.png","alt":"image-20250121012111907"}]}],"\\n",["$","p",null,{"children":"到这里基本的流程算是跑通了，我们可以继续提问 AI，代码层面是否可以继续优化："}],"\\n",["$","p",null,{"children":["$","$L8",null,{"src":"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/image-20250121020151382.png","alt":"image-20250121020151382"}]}],"\\n",["$","p",null,{"children":"它给出了一些比较好的建议，我们可以点击“全部接受”，然后先安装依赖，再次启动查看一下效果："}],"\\n",["$","p",null,{"children":["$","$L8",null,{"src":"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/image-20250121020340837.png","alt":"image-20250121020340837"}]}],"\\n",["$","p",null,{"children":"这一次，它给出了更加细致的日志信息，但是我们发现最后一个 error 不太正常，我们问一下 AI 这个是否是正常日志，AI 发现了问题，并进行了修复，我们重启验证逻辑没有问题"}],"\\n",["$","p",null,{"children":["$","$L8",null,{"src":"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/image-20250121020902787.png","alt":"image-20250121020902787"}]}],"\\n",["$","p",null,{"children":"邮箱也收到了告警信息！"}],"\\n",["$","p",null,{"children":"到这里其实基本的牛马已经做好了，它能够实时的帮我监控网站是否运行良好，保证服务异常及时通知到人。但是真正场景下，需要的不仅仅是网站正常加载，还有很多其他需要监控的东西。"}],"\\n",["$","p",null,{"children":"下面我们来看看 AI 的代码水平怎么样吧！"}],"\\n",["$","pre",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," chromium ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"@playwright/test\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," nodemailer ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"nodemailer\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," cron ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"node-cron\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," winston ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"winston\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// 添加日志库"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 配置日志"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," logger ",["$","span",null,{"className":"token operator","children":"="}]," winston",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"createLogger"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"format"}],["$","span",null,{"className":"token operator","children":":"}]," winston",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"format"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"combine"}],["$","span",null,{"className":"token punctuation","children":"("}],"winston",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"format"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"timestamp"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}]," winston",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"format"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"json"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"transports"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["winston",["$","span",null,{"className":"token punctuation","children":"."}],"transports",["$","span",null,{"className":"token punctuation","children":"."}],"File"]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token literal-property property","children":"filename"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"error.log\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token literal-property property","children":"level"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"error\\""}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["winston",["$","span",null,{"className":"token punctuation","children":"."}],"transports",["$","span",null,{"className":"token punctuation","children":"."}],"File"]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token literal-property property","children":"filename"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"combined.log\\""}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["winston",["$","span",null,{"className":"token punctuation","children":"."}],"transports",["$","span",null,{"className":"token punctuation","children":"."}],"Console"]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 邮件配置"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," transporter ",["$","span",null,{"className":"token operator","children":"="}]," nodemailer",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"createTransport"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"host"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"smtp.qq.com\\""}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"port"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"465"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 修改为465端口"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"secure"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 设置为true"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token literal-property property","children":"auth"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"user"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"3074994545@qq.com\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 补充完整的QQ邮箱地址"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"pass"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"xxxx\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// QQ邮箱授权码"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 要监控的网站列表"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," websites ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"老鱼简历\\""}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"url"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"https://laoyujianli.com\\""}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"checkElements"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\\".laoyu-page-container\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"\\".new-index-page\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"\\".template-item\\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"编程导航\\""}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"url"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"https://codefather.cn\\""}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"checkElements"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\\".ant-layout\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"\\".user-name\\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"面试鸭\\""}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"url"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"https://mianshiya.cn\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 移除多余的空格"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"checkElements"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\\"#indexPage\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"\\".ant-list-item\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"\\"#ccc\\""}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"retryCount"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"3"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 添加重试次数"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"retryDelay"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"5000"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 重试延迟时间（毫秒）"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 浏览器实例管理"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"let"}]," browserInstance ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword null nil","children":"null"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"getBrowser"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"!"}],"browserInstance",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    browserInstance ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," chromium",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"launch"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token literal-property property","children":"timeout"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"60000"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," browserInstance",["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 检查网站可用性"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"checkWebsite"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"site"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," startTime ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token known-class-name class-name","children":"Date"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"now"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," browser ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," ",["$","span",null,{"className":"token function","children":"getBrowser"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," context ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," browser",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"newContext"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"userAgent"}],["$","span",null,{"className":"token operator","children":":"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token string","children":"\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\\""}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"try"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," page ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," context",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"newPage"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    logger",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"info"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"正在检查网站: "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"name"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"let"}]," lastError",["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"// 添加重试机制"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"for"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"let"}]," i ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":";"}]," i ",["$","span",null,{"className":"token operator","children":"\u003c"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"retryCount"}]," ",["$","span",null,{"className":"token operator","children":"||"}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}]," i",["$","span",null,{"className":"token operator","children":"++"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token keyword control-flow","children":"try"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token comment","children":"// 设置页面加载超时时间"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," page",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"goto"}],["$","span",null,{"className":"token punctuation","children":"("}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"url"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token literal-property property","children":"timeout"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"30000"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token literal-property property","children":"waitUntil"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"networkidle\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 等待网络空闲"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token comment","children":"// 检查关键元素是否存在"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword control-flow","children":"for"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"const"}]," selector ",["$","span",null,{"className":"token keyword","children":"of"}]," site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"checkElements"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token keyword control-flow","children":"try"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," page",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"waitForSelector"}],["$","span",null,{"className":"token punctuation","children":"("}],"selector",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token literal-property property","children":"timeout"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"5000"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword control-flow","children":"catch"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"elementError",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"元素 "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"selector",["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":" 未找到，继续检查其他元素"}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"name"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":" 检查通过"}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token literal-property property","children":"success"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword control-flow","children":"catch"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"error",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        lastError ",["$","span",null,{"className":"token operator","children":"="}]," error",["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"i ",["$","span",null,{"className":"token operator","children":"\u003c"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"retryCount"}]," ",["$","span",null,{"className":"token operator","children":"||"}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"name"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":" 检查失败，等待 "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"retryDelay"}]," ",["$","span",null,{"className":"token operator","children":"||"}]," ",["$","span",null,{"className":"token number","children":"5000"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"ms 后重试..."}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"Promise"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token arrow operator","children":"=\u003e"}]," ",["$","span",null,{"className":"token function","children":"setTimeout"}],["$","span",null,{"className":"token punctuation","children":"("}],"resolve",["$","span",null,{"className":"token punctuation","children":","}]," site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"retryDelay"}]," ",["$","span",null,{"className":"token operator","children":"||"}]," ",["$","span",null,{"className":"token number","children":"5000"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"error"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"name"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":" 检查失败:"}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":","}]," lastError",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"message"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token literal-property property","children":"success"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"false"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token literal-property property","children":"error"}],["$","span",null,{"className":"token operator","children":":"}]," lastError",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"message"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword control-flow","children":"finally"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," context",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"close"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// 只关闭 context，不关闭浏览器"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 添加进程退出时的清理"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["process",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"on"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"SIGTERM\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token arrow operator","children":"=\u003e"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  logger",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"info"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"服务正在关闭...\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"browserInstance",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," browserInstance",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"close"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    browserInstance ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword null nil","children":"null"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  process",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"exit"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":["process",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"on"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"SIGINT\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token arrow operator","children":"=\u003e"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  logger",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"info"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"服务正在关闭...\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"browserInstance",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," browserInstance",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"close"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    browserInstance ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword null nil","children":"null"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  process",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"exit"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 发送告警邮件"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"sendAlertEmail"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["site",["$","span",null,{"className":"token punctuation","children":","}]," error"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," mailOptions ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword module","children":"from"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"3074994545@qq.com\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 使用完整的发件人邮箱"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"to"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\\"3074994545@qq.com\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"// 使用完整的收件人邮箱"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"subject"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"🚨 网站异常告警: "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"name"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token literal-property property","children":"html"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"\\n"}]]}]]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token template-string","children":["$","span",null,{"className":"token string","children":"      \u003ch2\u003e网站监控告警\u003c/h2\u003e\\n"}]}]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token string","children":"      \u003cp\u003e\u003cstrong\u003e网站名称:\u003c/strong\u003e "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"name"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"\u003c/p\u003e\\n"}]]}]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token string","children":"      \u003cp\u003e\u003cstrong\u003e网站地址:\u003c/strong\u003e "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"url"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"\u003c/p\u003e\\n"}]]}]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token string","children":"      \u003cp\u003e\u003cstrong\u003e错误信息:\u003c/strong\u003e "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"error",["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"\u003c/p\u003e\\n"}]]}]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token string","children":"      \u003cp\u003e\u003cstrong\u003e发生时间:\u003c/strong\u003e "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"Date"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"toLocaleString"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"\u003c/p\u003e\\n"}]]}]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token string","children":"    "}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"try"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," transporter",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"sendMail"}],["$","span",null,{"className":"token punctuation","children":"("}],"mailOptions",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"已发送告警邮件 - "}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"name"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword control-flow","children":"catch"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"error",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"error"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"发送邮件失败:\\""}],["$","span",null,{"className":"token punctuation","children":","}]," error",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"// 如果是认证错误，输出更详细的信息"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"error",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"code"}]," ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token string","children":"\\"EAUTH\\""}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"error"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"邮箱认证失败，请检查以下内容：\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"error"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"1. 确保QQ邮箱已开启SMTP服务\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"error"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"2. 确保使用的是正确的授权码而不是邮箱密码\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"error"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"3. 访问 https://service.mail.qq.com/cgi-bin/help?subtype=1\u0026\u0026id=28\u0026\u0026no=1001256 获取帮助\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 执行监控任务"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"runMonitoring"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"// 添加并发限制"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," concurrentLimit ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," chunks ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"for"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"let"}]," i ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":";"}]," i ",["$","span",null,{"className":"token operator","children":"\u003c"}]," websites",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"length"}],["$","span",null,{"className":"token punctuation","children":";"}]," i ",["$","span",null,{"className":"token operator","children":"+="}]," concurrentLimit",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    chunks",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"push"}],["$","span",null,{"className":"token punctuation","children":"("}],"websites",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"slice"}],["$","span",null,{"className":"token punctuation","children":"("}],"i",["$","span",null,{"className":"token punctuation","children":","}]," i ",["$","span",null,{"className":"token operator","children":"+"}]," concurrentLimit",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"for"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"const"}]," chunk ",["$","span",null,{"className":"token keyword","children":"of"}]," chunks",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," ",["$","span",null,{"className":"token known-class-name class-name","children":"Promise"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"all"}],["$","span",null,{"className":"token punctuation","children":"("}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      chunk",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"map"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"site"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token arrow operator","children":"=\u003e"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword control-flow","children":"try"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token keyword","children":"const"}]," result ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," ",["$","span",null,{"className":"token function","children":"checkWebsite"}],["$","span",null,{"className":"token punctuation","children":"("}],"site",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"!"}],"result",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"success"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," ",["$","span",null,{"className":"token function","children":"sendAlertEmail"}],["$","span",null,{"className":"token punctuation","children":"("}],"site",["$","span",null,{"className":"token punctuation","children":","}]," result",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"error"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword control-flow","children":"catch"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"error",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          logger",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"error"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token template-string","children":[["$","span",null,{"className":"token template-punctuation string","children":"`"}],["$","span",null,{"className":"token string","children":"监控任务执行失败 ("}],["$","span",null,{"className":"token interpolation","children":[["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"$${"}],"site",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"name"}],["$","span",null,{"className":"token interpolation-punctuation punctuation","children":"}"}]]}],["$","span",null,{"className":"token string","children":"):"}],["$","span",null,{"className":"token template-punctuation string","children":"`"}]]}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token literal-property property","children":"error"}],["$","span",null,{"className":"token operator","children":":"}]," error",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"message"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token literal-property property","children":"stack"}],["$","span",null,{"className":"token operator","children":":"}]," error",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"stack"}],["$","span",null,{"className":"token punctuation","children":","}],"\\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 添加优雅退出处理"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["process",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"on"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"SIGTERM\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token arrow operator","children":"=\u003e"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  logger",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"info"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"服务正在关闭...\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"browserInstance",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," browserInstance",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"close"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  process",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"exit"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 设置定时任务，每5分钟执行一次监控"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["cron",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"schedule"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"*/5 * * * *\\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token arrow operator","children":"=\u003e"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"开始执行网站监控...\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token function","children":"runMonitoring"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 立即执行一次监控"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token console class-name","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token method function property-access","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\\"启动网站监控服务...\\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"runMonitoring"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\\n"]}],["$","span",null,{"className":"code-line","children":"\\n"}]]}]}],"\\n",["$","p",null,{"children":"你觉得写的怎么样呢？我觉得蛮好的："}],"\\n",["$","ul",null,{"children":["\\n",["$","li",null,{"children":"代码逻辑清晰，每个函数都符合单一原则，开发中它也提醒我要把 websites 配置信息单独创建文件存储"}],"\\n",["$","li",null,{"children":"能够基于代码进行重构优化，使用社区流行的 winston 日志库来记录信息"}],"\\n",["$","li",null,{"children":"有重试，try catch 兜底逻辑"}],"\\n"]}],"\\n",["$","h2",null,{"id":"总结","children":["$","a",null,{"className":"anchor","href":"#总结","children":"总结"}]}],"\\n",["$","ol",null,{"children":["\\n",["$","li",null,{"children":"TRAE 的 UI 和交互不输 cursor"}],"\\n",["$","li",null,{"children":"builder 模式下，提出一个需求，它能快速帮我拆解需求，生成项目，安装依赖，启动项目到最后的 web 预览。这对没有接触过编程的人更加友好"}],"\\n",["$","li",null,{"children":"在有些时候，它也会乱说，明明有问题，但是硬说已经解决了！"}],"\\n",["$","li",null,{"children":"连接不稳定，经常网络错误，这个非常影响开发体验"}],"\\n",["$","li",null,{"children":"免费使用 claude 3.5 和 chatGpt 很香。"}],"\\n",["$","li",null,{"children":"代码块右上角的一些能力非常好用，例如应用功能，能够智能的把相关的内容进行替换，然后通过 diff 清晰的让你知道你修改了什么"}],"\\n",["$","li",null,{"children":"感觉模型深度链接了代码上下文，能给出和我目前项目相关的代码"}],"\\n",["$","li",null,{"children":"暴论：由于模型能力的限制，无论如何优化交互，流程。目前没有编程基础的人很难使用 AI 编辑器开发出真正的产品"}],"\\n"]}],"\\n",["$","p",null,{"children":"需要深度使用才能发现它更多使用场景！"}],"\\n",["$","blockquote",null,{"children":["\\n",["$","p",null,{"children":["源码：",["$","a",null,{"href":"https://github.com/chaseFunny/niuma","children":"https://github.com/chaseFunny/niuma"}]]}],"\\n"]}],"\\n",["$","hr",null,{}],"\\n",["$","p",null,{"children":["此文自动发布于：",["$","a",null,{"href":"https://github.com/coderPerseus/blog/issues/44","target":"_blank","children":"github issues"}]]}]]}]]}],["$","div",null,{"className":"flex px-4 justify-between mt-8","children":[["$","$L6",null,{"href":"/posts/post-45","className":"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2","children":"搭建前端脚手架（上）"}],["$","$L6",null,{"href":"/posts/post-43","className":"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2","children":"再回首，一次很失败的项目负责人体验"}]]}]]}]]}]}]}]}]}]],null],null]},["$","$L9",null,{"parallelRouterKey":"children","segmentPath":["children","(app)","children","posts","children","$a","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/docs/prinext/static/css/cc5160e2067b0cef.css","precedence":"next","crossOrigin":"$undefined"}]]}],[["$","div",null,{"className":"sm:px-8 relative mt-16 min-h-screen lg:mt-32","children":["$","div",null,{"className":"mx-auto max-w-7xl lg:px-8","children":["$","div",null,{"className":"relative px-4 sm:px-8 lg:px-12","children":["$","div",null,{"className":"mx-auto max-w-2xl lg:max-w-5xl","children":["$","div",null,{"className":"absolute inset-0 flex items-center justify-center","children":["$","div",null,{"className":"animate-pulse text-5xl text-zinc-500/50","children":["$","svg",null,{"width":"1em","height":"1em","viewBox":"0 0 24 24","fill":"none","xmlns":"http://www.w3.org/2000/svg","children":["$","path",null,{"d":"M16.5609 7.43931C15.7777 5.41156 14.0301 4 12 4C9.96987 4 8.22234 5.41156 7.43913 7.43931M16.5609 7.43931C19.7904 8.10251 22 9.44804 22 11C22 13.2091 17.5228 15 12 15C6.47715 15 2 13.2091 2 11C2 9.44804 4.20962 8.10251 7.43913 7.43931M16.5609 7.43931C16.94 8.42085 17.0719 9.49351 16.9638 10.5391C15.5011 10.8323 13.8065 11 12 11C10.1935 11 8.49887 10.8323 7.03622 10.5391C6.92815 9.49351 7.06001 8.42085 7.43913 7.43931M4 17L3 19M12 18V21M20 17L21 19","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round"}]}]}]}]}]}]}]}],[],[]]]},["$","$L9",null,{"parallelRouterKey":"children","segmentPath":["children","(app)","children","posts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[[["$","$Lc",null,{}],["$","div",null,{"className":"fixed inset-0 flex justify-center sm:px-8","children":["$","div",null,{"className":"flex w-full max-w-7xl lg:px-8","children":["$","div",null,{"className":"opacity-95 w-full bg-zinc-50/90 ring-1 ring-zinc-100 dark:bg-zinc-900/80 dark:ring-zinc-400/20"}]}]}],["$","div",null,{"className":"relative text-zinc-800 dark:text-zinc-200","children":[["$","$Ld",null,{}],["$","main",null,{"children":["$","$L9",null,{"parallelRouterKey":"children","segmentPath":["children","(app)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]}],["$","$e",null,{"children":["$","footer",null,{"className":"mt-32","children":["$","div",null,{"className":"sm:px-8","children":["$","div",null,{"className":"mx-auto max-w-7xl lg:px-8","children":["$","div",null,{"className":"border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40","children":[["$","div",null,{"className":"relative px-4 sm:px-8 lg:px-12","children":["$","div",null,{"className":"mx-auto max-w-2xl lg:max-w-5xl","children":["$","div",null,{"className":"flex flex-col items-center justify-between gap-6 sm:flex-row","children":[["$","p",null,{"className":"text-sm text-zinc-500/80 dark:text-zinc-400/80","children":["© ",2025," ","William Sun"," 网站已开源：",["$","$Lf",null,{"href":"https://github.com/coderPerseus/blog","children":"William Sun"}]]}],["$","nav",null,{"className":"flex gap-6 text-sm font-medium text-zinc-800 dark:text-zinc-200","children":[["$","$L6",null,{"href":"/","className":"transition hover:text-violet-500 dark:hover:text-violet-400","children":"首页"}],["$","$L6",null,{"href":"/posts","className":"transition hover:text-violet-500 dark:hover:text-violet-400","children":"博客"}],["$","$L6",null,{"href":"/about","className":"transition hover:text-violet-500 dark:hover:text-violet-400","children":"关于我"}]]}]]}]}]}],["$","div",null,{"className":"relative px-4 sm:px-8 lg:px-12 mt-6","children":["$","div",null,{"className":"mx-auto max-w-2xl lg:max-w-5xl","children":["$","div",null,{"className":"flex flex-col items-center justify-start gap-2 sm:flex-row","children":"欢迎 👏🏻 你的访问"}]}]}],["$","div",null,{"className":"flex justify-center p-6 flex-col sm:flex-row","children":[["$","$L6",null,{"target":"_blank","href":"https://beian.miit.gov.cn/","className":"text-blue-600 flex justify-center items-center","children":[["$","$L10",null,{"unoptimized":true,"src":"/docs/police.png","width":18,"height":18,"alt":"备案","className":"mr-1 "}],"辽公网安备21021202000334号"]}],["$","$L6",null,{"target":"_blank","href":"https://beian.miit.gov.cn/","className":"text-blue-600 pl-6 flex justify-center items-center","children":"辽ICP备2021012379号-1"}]]}]]}]}]}]}]}]]}]],null],null]},[["$","html",null,{"className":" m-0 h-full p-0 font-sans antialiased","lang":"zh-CN","suppressHydrationWarning":true,"children":["$","body",null,{"children":[["$","$L11",null,{}],["$","$L12",null,{}],["$","$L13",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"disableTransitionOnChange":true,"children":["$","$L9",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$Lb",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","$L14",null,{}],"notFoundStyles":[],"styles":null}]}]]}]}],null],null],"couldBeIntercepted":false,"initialHead":[false,"$L15"],"globalErrorComponent":"$16","missingSlots":"$W17"}]]\n'
			]);
		</script>
		<script>
			self.__next_f.push([
				1,
				'15:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#000212"}],["$","meta","2",{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#fafafa"}],["$","meta","3",{"charSet":"utf-8"}],["$","title","4",{"children":"使用字节的 TRAE 开发一个简单的 node 服务 | William Sun"}],["$","meta","5",{"name":"description","content":"使用字节的 TRAE 开发一个简单的 node 服务 - William Sun"}],["$","link","6",{"rel":"manifest","href":"/site.webmanifest","crossOrigin":"use-credentials"}],["$","meta","7",{"name":"keywords","content":"AI,编辑器"}],["$","meta","8",{"name":"baidu-site-verification","content":"codeva-7AmpPWgzQY"}],["$","meta","9",{"name":"google-site-verification","content":"TTbfOvWmLj0icfk0BQNUZB3crwReji82Q_vRdnZFFAc"}],["$","link","10",{"rel":"canonical","href":"https://dhc.ink/posts/post-44"}],["$","link","11",{"rel":"alternate","type":"application/rss+xml","title":"RSS 订阅","href":"https://luckysnail.cn/rss"}],["$","meta","12",{"property":"og:title","content":"使用字节的 TRAE 开发一个简单的 node 服务"}],["$","meta","13",{"property":"og:description","content":"使用字节的 TRAE 开发一个简单的 node 服务 - William Sun"}],["$","meta","14",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","15",{"name":"twitter:creator","content":"@haozhan05554957"}],["$","meta","16",{"name":"twitter:title","content":"William Sunblog | 前端 | 开发者"}],["$","meta","17",{"name":"twitter:description","content":"我是William Sun，一名充满热情的前端开发工程师。我热衷于探索和体验最新技术，特别是人工智能（AI），并在日常工作中去使用它们，来提升我的工作效率。我的目标是积极参与开源社区，为开源项目贡献自己的力量。正如我的名字，我相信越努力，越幸运"}],["$","meta","18",{"name":"twitter:image","content":"https://luckysnail.cn/og.png"}],["$","link","19",{"rel":"icon","href":"/docs/favicon.ico","type":"image/x-icon","sizes":"32x32"}],["$","link","20",{"rel":"icon","href":"/docs/icon.jpg?021a5ddd40907a91","type":"image/jpeg","sizes":"256x256"}],["$","link","21",{"rel":"apple-touch-icon","href":"/docs/apple-icon.jpg?58f0c05bf91c4519","type":"image/jpeg","sizes":"1022x1023"}]]\n'
			]);
		</script>
		<script>
			self.__next_f.push([1, '4:null\n']);
		</script>
	</body>
</html>
