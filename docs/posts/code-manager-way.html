<!DOCTYPE html><html class=" m-0 h-full p-0 font-sans antialiased" lang="zh-CN"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://blog-omega-five-74.vercel.app/_next/static/css/8cd2eb158671e11e.css" data-precedence="next"/><link rel="stylesheet" href="https://blog-omega-five-74.vercel.app/_next/static/css/cc5160e2067b0cef.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="https://blog-omega-five-74.vercel.app/_next/static/chunks/webpack-b2a6de320722f15e.js"/><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/f064a1f5-a0f684639c5e404a.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/904-950ee072dbb95b94.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/main-app-7d4b4602e3445646.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/779-472e799fbaad2d23.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/739-21a149fe09547639.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/138-7f27ef5cd2caf4b4.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/857-68a2fd358cb70760.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/594-71c3251836d38f7c.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/531-f976d425ce9a81a1.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/103-1875d9378f90876a.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/868-9c31f7c0009643d5.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/app/(app)/layout-75787b50de0e433c.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/245-4d9cc7d916e46c69.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/app/layout-d7953313cc6bdbf6.js" async=""></script><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/app/not-found-60c0c9286c67016b.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=123" as="script"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000212"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fafafa"/><title>multi-repo 和 mono-repo 代码管理方式了解（附实践源码） | William Sun</title><meta name="description" content="这篇文章深入探讨了代码仓库管理的两种主要方式:multi-repo和 mono-repo。文章详细介绍了它们的概念、优缺点和适用场景。重点讲解了 mono-repo 的实践,包括使用 pnpm 和 Turborepo 两种工具来搭建 mono-repo 项目。文章通过实际操作步骤,演示了如何设置工作空间、管理依赖、配置构建任务等。对于想要了解和实践 mono-repo 的开发者来说,这是一篇全面且实用的指南,提供了从基础到进阶的 mono-repo 知识和技巧。"/><link rel="manifest" href="/site.webmanifest" crossorigin="use-credentials"/><meta name="keywords" content="multi-repo,mono-repo,代码仓库管理"/><meta name="baidu-site-verification" content="codeva-7AmpPWgzQY"/><meta name="google-site-verification" content="TTbfOvWmLj0icfk0BQNUZB3crwReji82Q_vRdnZFFAc"/><link rel="canonical" href="https://dhc.ink/posts/code-manager-way"/><link rel="alternate" type="application/rss+xml" title="RSS 订阅" href="https://luckysnail.cn/rss"/><meta property="og:title" content="multi-repo 和 mono-repo 代码管理方式了解（附实践源码）"/><meta property="og:description" content="这篇文章深入探讨了代码仓库管理的两种主要方式:multi-repo和 mono-repo。文章详细介绍了它们的概念、优缺点和适用场景。重点讲解了 mono-repo 的实践,包括使用 pnpm 和 Turborepo 两种工具来搭建 mono-repo 项目。文章通过实际操作步骤,演示了如何设置工作空间、管理依赖、配置构建任务等。对于想要了解和实践 mono-repo 的开发者来说,这是一篇全面且实用的指南,提供了从基础到进阶的 mono-repo 知识和技巧。"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@haozhan05554957"/><meta name="twitter:title" content="William Sunblog | 前端 | 开发者"/><meta name="twitter:description" content="我是William Sun，一名充满热情的前端开发工程师。我热衷于探索和体验最新技术，特别是人工智能（AI），并在日常工作中去使用它们，来提升我的工作效率。我的目标是积极参与开源社区，为开源项目贡献自己的力量。正如我的名字，我相信越努力，越幸运"/><meta name="twitter:image" content="https://luckysnail.cn/og.png"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="32x32"/><link rel="icon" href="/icon.jpg?021a5ddd40907a91" type="image/jpeg" sizes="256x256"/><link rel="apple-touch-icon" href="/apple-icon.jpg?58f0c05bf91c4519" type="image/jpeg" sizes="1022x1023"/><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="z-[-1] absolute bottom-0 left-0 right-0 top-0 bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:14px_24px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"></div><div class="fixed inset-0 flex justify-center sm:px-8"><div class="flex w-full max-w-7xl lg:px-8"><div class="opacity-95 w-full bg-zinc-50/90 ring-1 ring-zinc-100 dark:bg-zinc-900/80 dark:ring-zinc-400/20"></div></div></div><div class="relative text-zinc-800 dark:text-zinc-200"><header class="pointer-events-none relative z-50 mb-[var(--header-mb,0px)] flex flex-col h-[var(--header-height,64px)]"><div class="top-0 z-10 h-16 pt-6" style="position:var(--header-position)"><div class="sm:px-8 top-[var(--header-top,theme(spacing.6))] w-full" style="position:var(--header-inner-position)"><div class="mx-auto max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="relative flex gap-4"><div class="flex flex-1" style="opacity:0;transform:translateY(15px)"><div><div class="h-10 w-10 rounded-full bg-white/90 p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:ring-white/10"><a aria-label="主页" class="pointer-events-auto" href="/"><img alt="" loading="lazy" width="256" height="256" decoding="async" data-nimg="1" class="rounded-full bg-zinc-100 object-cover dark:bg-zinc-800 h-9 w-9" style="color:transparent" src="https://blog-omega-five-74.vercel.app/_next/static/media/logo.d3f4655a.webp"/></a></div></div></div><div class="flex flex-1 justify-end md:justify-center"><button class="group flex items-center rounded-full bg-gradient-to-b from-zinc-50/20 to-white/80 px-4 py-2 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur-md focus:outline-none focus-visible:ring-2 dark:from-zinc-900/30 dark:to-zinc-800/80 dark:text-zinc-200 dark:ring-white/10 dark:hover:ring-white/20 dark:focus-visible:ring-yellow-500/80 pointer-events-auto relative z-50 md:hidden" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R3abnqra:" data-state="closed">前往<svg viewBox="0 0 8 6" aria-hidden="true" class="ml-3 h-auto w-2 stroke-zinc-500 group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-400"><path d="M1.75 1.75 4 4.25l2.25-2.5" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><nav class="group rounded-full bg-gradient-to-b from-zinc-50/70 to-white/90 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur-md dark:from-zinc-900/70 dark:to-zinc-800/90 dark:ring-zinc-100/10 [--spotlight-color:rgb(236_252_203_/_0.6)] dark:[--spotlight-color:rgb(217_249_157_/_0.07)] pointer-events-auto relative z-50 hidden md:block"><div class="pointer-events-none absolute -inset-px rounded-full opacity-0 transition-opacity duration-500 group-hover:opacity-100" aria-hidden="true" style="background:radial-gradient(0px circle at 0px 0px, var(--spotlight-color) 0%, transparent 65%)"></div><ul class="flex bg-transparent px-3 text-sm font-medium text-zinc-800 dark:text-zinc-200 "><li class="relative block whitespace-nowrap px-3 py-2 transition hover:text-violet-500 dark:hover:text-violet-400"><a target="_self" href="/">首页</a></li><li class="relative block whitespace-nowrap px-3 py-2 transition hover:text-violet-500 dark:hover:text-violet-400"><a target="_self" href="/posts">博客</a></li><li class="relative block whitespace-nowrap px-3 py-2 transition hover:text-violet-500 dark:hover:text-violet-400"><a target="_self" href="/about">关于我</a></li></ul></nav></div><div class="flex justify-end gap-3 md:flex-1" style="opacity:0;transform:translateY(-20px) scale(0.95)"><div class="pointer-events-auto"><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div></div></div></div></div></div></div></div></header><main><!--$--><div class="sm:px-8 mt-10 lg:mt-16"><div class="mx-auto max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12 !px-0"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="w-full md:flex md:justify-between xl:relative gap-1"><aside class="hidden w-[160px] shrink-0 lg:block"><div class="sticky top-2 pt-16"><div class="toc-container"><h2 class="text-lg font-semibold mb-4">目录</h2><ul class="js-toc group pointer-events-auto flex flex-col space-y-2 text-zinc-500" style="opacity:0"></ul></div></div></aside><div class="max-w-4xl md:flex-1 md:shrink-0 "><a class="group mb-8 flex h-10 w-10 items-center justify-center bg-white dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:hover:border-zinc-700 lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0 group rounded-full bg-gradient-to-b from-zinc-50/50 to-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:from-zinc-900/50 dark:to-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20" aria-label="返回博客页面" href="/posts"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400"><path d="M8.03089 4C6.57669 5.05865 5.2706 6.29537 4.14485 7.67887C4.04828 7.79755 4 7.94044 4 8.08333M8.03089 12.1667C6.57669 11.108 5.2706 9.8713 4.14485 8.4878C4.04828 8.36912 4 8.22623 4 8.08333M4 8.08333H14.963C17.7448 8.08333 20 10.3033 20 13.0417C20 15.7801 17.7448 18 14.963 18H12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a><article data-postid="posts/code-manager.mdx" class="rich-text-viewer prose px-4"><div class="mb-8 text-center"><h1 class="text-3xl font-bold">multi-repo 和 mono-repo 代码管理方式了解（附实践源码）</h1><div class="flex justify-center rounded-md  h-5 items-center space-x-4 text-sm"><time dateTime="2024-07-03T00:00:00.000Z" class="mb-1 text-xs text-gray-600">2024-07-03</time><div data-orientation="vertical" role="none" class="shrink-0 bg-border h-full w-[1px]"></div><span class="mb-1 text-xs text-gray-600 flex items-center"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mr-2"><path d="M10.1912 12.5508C10.3071 12.1942 10.3071 11.8058 10.1912 11.4492C9.22165 8.46673 4.40272 8.00546 4.01443 4.48436C3.93458 3.76031 4.18955 3.04013 4.69671 2.55723C5.28193 2 6.62415 2 9.30861 2H14.6914C17.3759 2 18.7181 2 19.3033 2.55723C19.8104 3.04013 20.0654 3.76031 19.9856 4.48436C19.5973 8.00546 14.7784 8.46673 13.8088 11.4492C13.6929 11.8058 13.6929 12.1942 13.8088 12.5508C14.7784 15.5333 19.5973 15.9945 19.9856 19.5156C20.0654 20.2397 19.8104 20.9599 19.3033 21.4428C18.7181 22 17.3758 22 14.6914 22L9.3086 22C6.62415 22 5.28192 22 4.69671 21.4428C4.18955 20.9599 3.93458 20.2397 4.01442 19.5156C4.40272 15.9945 9.22164 15.5333 10.1912 12.5508Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg> <!-- -->15<!-- --> 分钟</span></div><div class="flex w-full justify-center gap-2 mt-2"><span class="inline-flex items-center px-2 h-5 rounded-md text-xs  bg-gray-300 text-gray-800">multi-repo</span><span class="inline-flex items-center px-2 h-5 rounded-md text-xs  bg-gray-300 text-gray-800">mono-repo</span><span class="inline-flex items-center px-2 h-5 rounded-md text-xs  bg-gray-300 text-gray-800">代码仓库管理</span></div><div class="bg-gray-200 dark:bg-gray-600 relative p-4 rounded-md mt-4"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="absolute left-4 top-4"><path d="M8 8H8.01M3.11768 7.65876L3.07447 8.47968C2.99172 10.0518 2.95035 10.8379 3.1001 11.5811C3.23281 12.2399 3.47524 12.8716 3.81725 13.45C4.20315 14.1026 4.75976 14.6593 5.87297 15.7725L8.29448 18.194C9.6106 19.5101 10.2687 20.1682 10.9743 20.5277C12.4003 21.2543 14.0881 21.2543 15.5142 20.5277C16.2198 20.1682 16.8778 19.5101 18.194 18.194C19.5101 16.8778 20.1682 16.2198 20.5277 15.5142C21.2543 14.0881 21.2543 12.4003 20.5277 10.9743C20.1682 10.2687 19.5101 9.6106 18.194 8.29448L15.7725 5.87298C14.6593 4.75976 14.1026 4.20315 13.45 3.81725C12.8716 3.47524 12.2399 3.23281 11.5811 3.1001C10.8379 2.95035 10.0518 2.99172 8.47968 3.07447L7.65876 3.11768C6.13396 3.19793 5.37156 3.23805 4.78079 3.55489C4.26041 3.83397 3.83397 4.26041 3.55489 4.78079C3.23805 5.37156 3.19793 6.13396 3.11768 7.65876ZM8.4895 7.98767C8.4895 8.26381 8.26564 8.48767 7.9895 8.48767C7.71336 8.48767 7.4895 8.26381 7.4895 7.98767C7.4895 7.71153 7.71336 7.48767 7.9895 7.48767C8.26564 7.48767 8.4895 7.71153 8.4895 7.98767Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><p class="text-gray-700 dark:text-gray-300">这篇文章深入探讨了代码仓库管理的两种主要方式:multi-repo和 mono-repo。文章详细介绍了它们的概念、优缺点和适用场景。重点讲解了 mono-repo 的实践,包括使用 pnpm 和 Turborepo 两种工具来搭建 mono-repo 项目。文章通过实际操作步骤,演示了如何设置工作空间、管理依赖、配置构建任务等。对于想要了解和实践 mono-repo 的开发者来说,这是一篇全面且实用的指南,提供了从基础到进阶的 mono-repo 知识和技巧。</p></div></div><div class="js-toc-content"><h2 id="了解代码仓库管理方式"><a class="anchor" href="#了解代码仓库管理方式">了解代码仓库管理方式</a></h2>
<h3 id="multi-repo"><a class="anchor" href="#multi-repo">multi-repo</a></h3>
<p>全称：Multiple Repositories 多仓库
Multi-repo是指每个项目或组件都有自己独立的版本控制仓库。这种方法的特点包括：</p>
<ul>
<li>每个项目有独立的代码库和版本控制历史</li>
<li>项目之间保持分离，可以使用不同的框架、语言或技术</li>
<li>更高的代码安全性，因为每个仓库都是独立的</li>
<li>适合大型项目或有多个独立团队的组织</li>
</ul>
<p>我们业务项目基本上都是 multi-repo，但是multi-repo 项目如果要开发多个库，然后这些库互相有依赖关系，那么协同就很麻烦，就比如 React 项目，我们知道 React 项目下面有 React 核心库、React DOM、React Native ，这些模块之间有许多共享的代码和依赖。使用 mono-repo 可以让这些模块共享同一份代码库，从而避免代码重复，提高代码复用性。好了，我们来了解一下 mono-repo 吧！</p>
<h3 id="mono-repo"><a class="anchor" href="#mono-repo">mono-repo</a></h3>
<p>全称：Monolithic Repository 单一仓库
Mono-repo是指在单个版本控制仓库中包含多个项目或组件。其特点包括：</p>
<ul>
<li>所有项目共享同一个代码库和版本控制历史</li>
<li>促进代码共享和集中管理</li>
<li>简化依赖管理</li>
<li>适合中小型项目或需要紧密集成的相关项目</li>
</ul>
<p>上面也说了，类似 React 这样的项目，使用 mono-repo 就再适合不过了，但是 mono-repo 的缺点也是有的，</p>
<ul>
<li>性能：随着仓库内容的增大，在单个存储库中跨不同函数和上下文组合代码可能会减慢代码拉取操作的速度。这对新加入的开发人员或 CI/CD（全称是“Continuous Integration/Continuous Deployment”，意思是“持续集成/持续部署”。） 系统可能造成影响。</li>
<li>权限控制困难：对于大型组织，可能难以在单一仓库中实现细粒度的访问控制，可能导致安全风险</li>
<li>技术栈限制： mono-repo 可能鼓励使用统一的技术栈，这可能限制了在特定项目中使用最适合的技术</li>
</ul>
<p>所以，选择使用 mono-repo 作为仓库管理方式需要考虑清楚。我们接下来就实践一下吧！</p>
<h2 id="mono-repo-实践"><a class="anchor" href="#mono-repo-实践">mono-repo 实践</a></h2>
<p>可以按照简单和复杂的维度来进行技术选择
简单的工具：</p>
<ul>
<li>npm workspace：<a href="https://docs.npmjs.com/cli/v7/using-npm/workspaces">https://docs.npmjs.com/cli/v7/using-npm/workspaces</a></li>
<li>yarn workspace：<a href="https://classic.yarnpkg.com/lang/en/docs/workspaces/">https://classic.yarnpkg.com/lang/en/docs/workspaces/</a></li>
<li>pnpm workspace：<a href="https://pnpm.io/workspaces">https://pnpm.io/workspaces</a>（推荐阅读：<a href="https://juejin.cn/post/7127295203177676837">https://juejin.cn/post/7127295203177676837</a>）</li>
</ul>
<p>专业的工具：</p>
<ul>
<li>lerna：<a href="https://www.lernajs.cn/">https://www.lernajs.cn/</a>，最初由Sebastian McKenzie创建,他也是Babel的作者。目前Lerna由开源社区维护,主要贡献者来自各大科技公司</li>
<li>Nx：<a href="https://nx.dev/">https://nx.dev/</a>，Nx Nx由Nrwl公司开发和维护。Nrwl是一家专注于提供企业级开发工具和服务的公司,由前Google员工Victor Savkin和Jeff Cross创立</li>
<li>Turborepo：<a href="https://turborepo.org/">https://turborepo.org/</a>，最初由Jared Palmer个人开发。2021年,Vercel公司收购了Turborepo,现在由Vercel团队继续开发和维护。Vercel是一家专注于前端开发和部署的公司,以Next.js框架而闻名</li>
<li>Bazel：<a href="https://bazel.build/about/intro?hl=zh-cn">https://bazel.build/about/intro?hl=zh-cn</a>，由Google开发和维护。它源于Google内部使用的构建工具Blaze,后来被开源并改名为Bazel。Google的大规模mono-repo实践为Bazel的设计提供了丰富的经验</li>
<li>Rush：<a href="https://rushjs.io/">https://rushjs.io/</a>，Microsoft开发的可扩展mono-repo管理器</li>
</ul>
<h3 id="简单工具pnpm-使用"><a class="anchor" href="#简单工具pnpm-使用">简单工具：pnpm 使用</a></h3>
<p>对于个人的小项目来说，我们使用 pnpm 就可以了，我们来快速上手一下
1）创建文件夹</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">mkdir</span> mono-repo-pnpm
</span><span class="code-line"><span class="token builtin class-name">cd</span> ./mono-repo-pnpm
</span></code></pre>
<p>2）pnpm 初始化</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">pnpm</span> init
</span></code></pre>
<ol start="3">
<li>初始化pnpm-workspace.yaml + 配置全局代码规范
参考：<a href="https://pnpm.io/zh/pnpm-workspace_yaml">https://pnpm.io/zh/pnpm-workspace_yaml</a>，新建 pnpm-workspace.yaml</li>
</ol>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token literal-property property">packages</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token string">&#x27;packages/*&#x27;</span><span class="token punctuation">;</span>
</span></code></pre>
<p>指定了 /package 下的所有文件，就是我们 mono-repo 的所有子项目。我们 mono-repo 的初始配置就完成了</p>
<p>现在，我们安装一下 全局的代码格式化依赖。这样每个子包都使用统一的代码格式化规范，对了，我们的编辑器需要先有 ESLint 和 Prettier 插件，并在设置中配置一下，
<!-- -->
然后，我们安装：</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">pnpm</span> i eslint <span class="token parameter variable">-D</span> <span class="token parameter variable">-w</span>
</span></code></pre>
<p>-w 是 --workspace-root 的别名，即安装到工程根目录，作为所有子模块的公共依赖。也可以用 -r 递归给每个子模块安装，或者用 --filter <code>&lt;package_name&gt;</code> 给指定子模块安装。然后初始化，我们终端执行：<code>npx eslint --init</code>(我们需要选择一些配置，选择好后会生成一个 eslint.config.mjs 文件给我们），然而，可能你会遇到这样的提示：</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"> WARN  Issues with peer dependencies found
</span><span class="code-line"><span class="token builtin class-name">.</span>
</span><span class="code-line">├─┬ @typescript-eslint/parser <span class="token number">7.14</span>.1
</span><span class="code-line">│ └── ✕ unmet peer eslint@^8.56.0: found <span class="token number">9.6</span>.0
</span><span class="code-line">└─┬ typescript-eslint <span class="token number">7.14</span>.1
</span><span class="code-line">  ├── ✕ unmet peer eslint@^8.56.0: found <span class="token number">9.6</span>.0
</span><span class="code-line">  └─┬ @typescript-eslint/eslint-plugin <span class="token number">7.14</span>.1
</span><span class="code-line">    ├── ✕ unmet peer eslint@^8.56.0: found <span class="token number">9.6</span>.0
</span><span class="code-line">    ├─┬ @typescript-eslint/utils <span class="token number">7.14</span>.1
</span><span class="code-line">    │ └── ✕ unmet peer eslint@^8.56.0: found <span class="token number">9.6</span>.0
</span><span class="code-line">    └─┬ @typescript-eslint/type-utils <span class="token number">7.14</span>.1
</span><span class="code-line">      └── ✕ unmet peer eslint@^8.56.0: found <span class="token number">9.6</span>.0
</span></code></pre>
<p>我们可以执行：<code>pnpm install eslint@^8.56.0 -D</code>,这是提示 eslint 版本与某些依赖项的预期版本不匹配，我们安装匹配的就好
我们继续安装 ts 的 eslint 插件 和 prettier 的依赖</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">pnpm</span> i <span class="token parameter variable">-D</span> <span class="token parameter variable">-w</span> @typescript-eslint/eslint-plugin prettier eslint-config-prettier eslint-plugin-prettier
</span></code></pre>
<p>然后，我们来创建对应的配置文件，先创建 <code>.prettierrc.json</code></p>
<pre class="language-json"><code class="language-json code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">	<span class="token property">&quot;printWidth&quot;</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token property">&quot;tabWidth&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token property">&quot;useTabs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token property">&quot;bracketSpacing&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>再创建 <code>tsconfig.json</code></p>
<pre class="language-json"><code class="language-json code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">	<span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./packages/**/*&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token property">&quot;compileOnSave&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">		<span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ESNext&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;useDefineForClassFields&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ESNext&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ESNext&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;DOM&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Node&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;isolatedModules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;noEmit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./packages&quot;</span>
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>再修改 <code>eslint.config.mjs</code></p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">pluginJs</span> <span class="token keyword module">from</span> <span class="token string">&#x27;@eslint/js&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">globals</span> <span class="token keyword module">from</span> <span class="token string">&#x27;globals&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">tseslint</span> <span class="token keyword module">from</span> <span class="token string">&#x27;typescript-eslint&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">[</span>
</span><span class="code-line">	<span class="token punctuation">{</span> <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;**/*.{js,mjs,cjs,ts}&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token punctuation">{</span> <span class="token literal-property property">languageOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">globals</span><span class="token operator">:</span> globals<span class="token punctuation">.</span><span class="token property-access">browser</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">	pluginJs<span class="token punctuation">.</span><span class="token property-access">configs</span><span class="token punctuation">.</span><span class="token property-access">recommended</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token spread operator">...</span>tseslint<span class="token punctuation">.</span><span class="token property-access">configs</span><span class="token punctuation">.</span><span class="token property-access">recommended</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token punctuation">{</span>
</span><span class="code-line">		<span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			<span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token literal-property property">es2021</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">			<span class="token string">&#x27;eslint:recommended&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token string">&#x27;plugin:@typescript-eslint/recommended&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token string">&#x27;prettier&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token string">&#x27;plugin:prettier/recommended&#x27;</span>
</span><span class="code-line">		<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">&#x27;@typescript-eslint/parser&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token literal-property property">parserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			<span class="token literal-property property">ecmaVersion</span><span class="token operator">:</span> <span class="token string">&#x27;latest&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&#x27;module&#x27;</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;@typescript-eslint&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;prettier&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			<span class="token string-property property">&#x27;prettier/prettier&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;error&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token string-property property">&#x27;no-case-declarations&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;off&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token string-property property">&#x27;no-constant-condition&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;off&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token string-property property">&#x27;@typescript-eslint/ban-ts-comment&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;off&#x27;</span>
</span><span class="code-line">		<span class="token punctuation">}</span>
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre>
<p>现在，我们的项目就完成了代码自动进行报错提示，和保存格式化，我们可以在 packeage.json 中添加脚本</p>
<pre class="language-json"><code class="language-json code-highlight"><span class="code-line">	<span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --ext .ts,.js,.jsx,.tsx --fix --quiet ./packages&quot;</span>
</span></code></pre>
<p>4）创建子项目
我们创建两个子项目并初始化</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> packages/common packages/app
</span></code></pre>
<p>初始化，每个子项目</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token builtin class-name">cd</span> packages/common
</span><span class="code-line"><span class="token function">pnpm</span> init
</span><span class="code-line"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/app
</span><span class="code-line"><span class="token function">pnpm</span> init
</span><span class="code-line"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>
</span></code></pre>
<p>修改子项目 package.json 文件，这代表了下载子包的安装命名，也代表这些包都归属于 mono-repo-pnpm 包</p>
<pre class="language-json"><code class="language-json code-highlight"><span class="code-line"><span class="token comment">// packages/app</span>
</span><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@mono-repo-pnpm/app&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  ...
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token comment">// packages/common</span>
</span><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@mono-repo-pnpm/common&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  ...
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>5）在common包中添加一些共享代码
在 packages/common/index.js 中添加:</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&#x27;执行了了common.js&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">exports<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">sayHello</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</span></code></pre>
<p>6）在app包中使用common包
首先,在 app 包的 package.json 中添加对 common 包的依赖:</p>
<pre class="language-json"><code class="language-json code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">	<span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">		<span class="token property">&quot;@mono-repo-pnpm/common&quot;</span><span class="token operator">:</span> <span class="token string">&quot;workspace:*&quot;</span>
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>然后在 packages/app/index.js 中使用 common 包:</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> sayHello <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;@mono-repo-pnpm/common&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token string">&#x27;Monorepo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>我们刚好可以测试一下在全局配置的代码规范也是生效的， 保存的时候如果写的不符合规范，我们就会看到提示，保存也会自动格式化
7）终端执行：<code>node ./packages/app</code>，我们可以看到：
<!-- -->
这就是通过 mono-repo 的本地依赖能力，如果不使用 mono-repo，我们可能需要通过 npm link 来解决，非常麻烦
8）我们在根目录安装一个依赖 lodash，然后在子目录可通过 <code>&quot;lodash&quot;: &quot;*&quot;,</code> 来使用 根目录的 lodash。实现根目标管理所有的包9)我们可以在每个 <code>package.json</code> 中，添加一个脚本，例如：<code>&quot;dev&quot;: &quot;node index.js&quot;</code>。然后根目录执行 <code>pnpm -r dev</code>。这样我们就可以在一行代码执行所有的子项目的 dev 脚本。
通过这个基础的 mono-repo 的项目，我们使用了 mono-repo 的如下能力</p>
<ol>
<li>工作空间管理: 通过pnpm-workspace.yaml轻松管理多个包。</li>
<li>依赖共享: 子项目可以共享依赖,节省磁盘空间。</li>
<li>本地依赖: 可以使用workspace:*语法引用本地包。</li>
<li>统一版本控制: 可以在根目录管理所有包的版本。</li>
<li>并行执行: 可以并行运行多个包的脚本。</li>
</ol>
<h3 id="专业工具turborepo-使用"><a class="anchor" href="#专业工具turborepo-使用">专业工具：turborepo 使用</a></h3>
<blockquote>
<p>操作系统： macos，如果你是使用 windows ，可能有些地方不一样</p>
</blockquote>
<p>我们全局安装 turbo，执行命令 <code>pnpm install turbo --global</code>，如果你也报错：
<!-- -->
不要着急，跟我我一步步修复这个报错，这是因为没有正确配置了你的环境变量和全局目录
1）我们先按照提示执行：pnpm setup ，然后再次执行全局安装 turbo命令，如果这时候依然提示上面的报错，或者类似这样的报错
<!-- --> 2)我们执行：<code>nano ~/.bashrc</code> 或者 <code>nano ~/.zshrc</code>,添加以下内容：</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">PNPM_HOME</span><span class="token operator">=</span><span class="token string">&quot;<span class="token environment constant">$HOME</span>/.pnpm&quot;</span>
</span><span class="code-line"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$PNPM_HOME</span>:<span class="token environment constant">$PATH</span>&quot;</span>
</span></code></pre>
<p>我们先保存(** ctrl + o 组合键**)，系统会询问你是否要保存所做的更改，我们<strong>按下回车键</strong>，然后我们关闭( <strong>ctrl + x 组合键</strong>)文件，然后重新加载配置文件：</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token builtin class-name">source</span> ~/.bashrc  <span class="token comment"># 或者 source ~/.zshrc</span>
</span></code></pre>
<p>我们来验证一下是否配置成功：</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># 确认环境变量已正确设置</span>
</span><span class="code-line"><span class="token builtin class-name">echo</span> <span class="token variable">$PNPM_HOME</span>
</span><span class="code-line"><span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>
</span><span class="code-line"><span class="token comment"># 确保 PNPM_HOME 目录存在，并且包含 pnpm 安装的全局包：</span>
</span><span class="code-line"><span class="token function">ls</span> <span class="token variable">$PNPM_HOME</span>
</span></code></pre>
<p>如果这俩都没有报错，那么就说明配置成功，我们重新执行全局安装 turbo 命令，这里应该能够安装成功
<!-- -->
3）全局安装成功 turbo 后，我们执行 <code>npx create-turbo@latest</code>,
<!-- --> 4)项目目录了解。turpo-repo 来解决复杂 mono-repo 项目，打包性能问题</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">my-turborepo/
</span><span class="code-line">├── apps/
</span><span class="code-line">│   ├── docs/
</span><span class="code-line">│   └── web/
</span><span class="code-line">├── packages/
</span><span class="code-line">│   ├── eslint-config-custom/
</span><span class="code-line">│   ├── tsconfig/
</span><span class="code-line">│   └── ui/
</span><span class="code-line">├── turbo.json
</span><span class="code-line">└── package.json
</span></code></pre>
<p>5）turbo.json 了解，turbo.json 是 Turbo 的核心配置文件。它定义了任务之间的依赖关系，</p>
<pre class="language-json"><code class="language-json code-highlight"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">	<span class="token property">&quot;$schema&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://turbo.build/schema.json&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token property">&quot;tasks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">		<span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			<span class="token property">&quot;dependsOn&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;^build&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token property">&quot;inputs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;$TURBO_DEFAULT$&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.env*&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token property">&quot;outputs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;.next/**&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;!.next/cache/**&quot;</span><span class="token punctuation">]</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			<span class="token property">&quot;dependsOn&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;^lint&quot;</span><span class="token punctuation">]</span>
</span><span class="code-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">		<span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">			<span class="token property">&quot;cache&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">			<span class="token property">&quot;persistent&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
</span><span class="code-line">		<span class="token punctuation">}</span>
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<ol>
<li>&quot;$schema&quot;: 指定了 JSON schema 的位置，用于验证配置文件的正确性。</li>
<li>&quot;tasks&quot;: 定义了项目中的各种任务。</li>
<li>&quot;build&quot; 任务:<!-- -->
<ul>
<li>&quot;dependsOn&quot;: [&quot;^build&quot;]: 表示此任务依赖于所有工作空间中的 build 任务。^ 符号表示只考虑当前包的依赖项。</li>
<li>&quot;inputs&quot;: [&quot;$TURBO_DEFAULT$&quot;, &quot;.env*&quot;]: 指定任务的输入文件。$TURBO_DEFAULT$ 是 Turbo 的默认输入集，.env* 表示所有 .env 文件。</li>
<li>&quot;outputs&quot;: [&quot;.next/<strong>&quot;, &quot;!.next/cache/</strong>&quot;]: 指定任务的输出。这里包含了 .next 目录下的所有文件，但排除了 .next/cache 目录。</li>
</ul>
</li>
<li>&quot;lint&quot; 任务:<!-- -->
<ul>
<li>&quot;dependsOn&quot;: [&quot;^lint&quot;]: 表示此任务依赖于所有依赖项的 lint 任务。</li>
</ul>
</li>
<li>&quot;dev&quot; 任务:<!-- -->
<ul>
<li>&quot;cache&quot;: false: 禁用此任务的缓存。</li>
<li>&quot;persistent&quot;: true: 表示这是一个长期运行的任务，如开发服务器。</li>
</ul>
</li>
</ol>
<p>6）在根目录下,您可以运行：<code>turbo run build</code>，这将会根据 turbo.json 的配置，并行构建所有的应用和包。我们可以构建两次，会发现第二次构建时间比第一次短，这就是 Turbo的增量构建和缓存机制大大提高了构建速度。
最后，我们看一下Turbo的主要能力:</p>
<ol>
<li>增量构建: Turbo只重新构建发生变化的部分</li>
<li>远程缓存: 可以在团队成员之间共享构建缓存</li>
<li>并行执行: Turbo可以并行运行任务,提高效率</li>
<li>任务编排: 通过turbo.json定义任务之间的依赖关系</li>
<li>单一配置: 使用一个turbo.json文件管理整个monorepo</li>
</ol>
<h2 id="参考"><a class="anchor" href="#参考">参考：</a></h2>
<ol>
<li>vivo 技术：<a href="https://segmentfault.com/a/1190000020047120">基于 Lerna 管理 packages 的 Monorepo 项目最佳实践</a></li>
<li>turbo，新兴的 monorepo 管理方案：<a href="https://segmentfault.com/a/1190000042282389">https://segmentfault.com/a/1190000042282389</a></li>
<li>我的 pnpm 实现 mono-repo 代码：<a href="https://github.com/chaseFunny/pnpm-monorepo">https://github.com/chaseFunny/pnpm-monorepo</a></li>
<li>我的 turbo 示例代码：<a href="https://github.com/chaseFunny/turbo-monorepo">https://github.com/chaseFunny/turbo-monorepo</a></li>
</ol></div></article><div class="flex px-4 justify-between mt-8"><a class="inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2" href="/posts/post-4">git commit 提交规范中文解释</a><a class="inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2" href="/posts/react-drag-drop-demo">React最简版本低代码实现</a></div></div></div></div></div></div></div><!--/$--></main><!--$--><footer class="mt-32"><div class="sm:px-8"><div class="mx-auto max-w-7xl lg:px-8"><div class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex flex-col items-center justify-between gap-6 sm:flex-row"><p class="text-sm text-zinc-500/80 dark:text-zinc-400/80">© <!-- -->2025<!-- --> <!-- -->William Sun<!-- --> 网站已开源：<a class="inline-flex place-items-baseline items-baseline gap-0.5 pr-0.5 text-[0.95em] leading-none font-semibold text-zinc-800 hover:underline dark:text-zinc-100" rel="noopener noreferrer" target="_blank" href="https://github.com/coderPerseus/blog"><span class="mr-px inline-flex translate-y-0.5 dark:invert"><img alt="" aria-hidden="true" loading="lazy" width="16" height="16" decoding="async" data-nimg="1" class="inline h-4 w-4 rounded" style="color:transparent" src="https://blog-omega-five-74.vercel.app/_next/static/media/github.ee3e4451.png"/></span>William Sun<svg width="0.95em" height="0.95em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="inline-block translate-y-0.5" aria-hidden="true"><path d="M20 13.5001C20 14.8946 20 15.5919 19.8618 16.1673C19.4229 17.9956 17.9955 19.423 16.1672 19.8619C15.5918 20.0001 14.8945 20.0001 13.5 20.0001H12C9.19974 20.0001 7.79961 20.0001 6.73005 19.4551C5.78924 18.9758 5.02433 18.2109 4.54497 17.2701C4 16.2005 4 14.8004 4 12.0001V11.5001C4 9.17035 4 8.0055 4.3806 7.08664C4.88807 5.8615 5.86144 4.88813 7.08658 4.38066C7.86344 4.05888 8.81614 4.00915 10.5 4.00146M19.7597 9.45455C20.0221 7.8217 20.0697 6.16984 19.9019 4.54138C19.8898 4.42328 19.838 4.31854 19.7597 4.24027M19.7597 4.24027C19.6815 4.16201 19.5767 4.11023 19.4586 4.09806C17.8302 3.93025 16.1783 3.97792 14.5455 4.24027M19.7597 4.24027L10 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></p><nav class="flex gap-6 text-sm font-medium text-zinc-800 dark:text-zinc-200"><a class="transition hover:text-violet-500 dark:hover:text-violet-400" href="/">首页</a><a class="transition hover:text-violet-500 dark:hover:text-violet-400" href="/posts">博客</a><a class="transition hover:text-violet-500 dark:hover:text-violet-400" href="/about">关于我</a></nav></div></div></div><div class="relative px-4 sm:px-8 lg:px-12 mt-6"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex flex-col items-center justify-start gap-2 sm:flex-row">欢迎 👏🏻 你的访问</div></div></div><div class="flex justify-center p-6 flex-col sm:flex-row"><a target="_blank" class="text-blue-600 flex justify-center items-center" href="https://beian.miit.gov.cn/"><img alt="备案" loading="lazy" width="18" height="18" decoding="async" data-nimg="1" class="mr-1 " style="color:transparent" src="/blog/police.png"/>辽公网安备21021202000334号</a><a target="_blank" class="text-blue-600 pl-6 flex justify-center items-center" href="https://beian.miit.gov.cn/">辽ICP备2021012379号-1</a></div></div></div></div></footer><!--/$--></div><script src="https://blog-omega-five-74.vercel.app/_next/static/chunks/webpack-b2a6de320722f15e.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"https://blog-omega-five-74.vercel.app/_next/static/css/8cd2eb158671e11e.css\",\"style\"]\n2:HL[\"https://blog-omega-five-74.vercel.app/_next/static/css/cc5160e2067b0cef.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[1439,[],\"\"]\n5:I[7401,[\"779\",\"static/chunks/779-472e799fbaad2d23.js\",\"739\",\"static/chunks/739-21a149fe09547639.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"594\",\"static/chunks/594-71c3251836d38f7c.js\",\"878\",\"static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js\"],\"default\"]\n6:I[2219,[\"779\",\"static/chunks/779-472e799fbaad2d23.js\",\"739\",\"static/chunks/739-21a149fe09547639.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"594\",\"static/chunks/594-71c3251836d38f7c.js\",\"878\",\"static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js\"],\"\"]\n7:I[6814,[\"779\",\"static/chunks/779-472e799fbaad2d23.js\",\"739\",\"static/chunks/739-21a149fe09547639.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"594\",\"static/chunks/594-71c3251836d38f7c.js\",\"878\",\"static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js\"],\"Separator\"]\n8:I[8501,[\"779\",\"static/chunks/779-472e799fbaad2d23.js\",\"739\",\"static/chunks/739-21a149fe09547639.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"594\",\"static/chunks/594-71c3251836d38f7c.js\",\"878\",\"static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js\"],\"default\"]\n9:I[1473,[],\"\"]\nb:I[9658,[],\"\"]\nc:I[3205,[\"779\",\"static/chunks/779-472e799fbaad2d23.js\",\"739\",\"static/chunks/739-21a149fe09547639.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"531\",\"static/chunks/531-f976d425ce9a81a1.js\",\"103\",\"static/chunks/103-1875d9378f90876a.js\",\"868\",\"static/chunks/868-9c31f7c0009643d5.js\",\"814\",\"static/chunks/app/(app)/layout-75787b50de0e433c.js\"],\"GlobalBg\"]\nd:I[7726,[\"779\",\"static/chunks/779-472e799fbaad2d23.js\",\"739\",\"static/chunks/739-21a149fe09547639.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"531\",\"static/chunks/531-f976d425ce9a81a1.js\",\"103\",\"static/chunks/103-1875d9378f90876a.js\",\"868\",\"static/chunks/868-9c31f7c0009643d5.js\",\"814\",\"static/chunks/app/(app)/layout-75787b50de0e433c.js\"],\"Head"])</script><script>self.__next_f.push([1,"er\"]\ne:\"$Sreact.suspense\"\nf:I[4662,[\"779\",\"static/chunks/779-472e799fbaad2d23.js\",\"739\",\"static/chunks/739-21a149fe09547639.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"531\",\"static/chunks/531-f976d425ce9a81a1.js\",\"103\",\"static/chunks/103-1875d9378f90876a.js\",\"868\",\"static/chunks/868-9c31f7c0009643d5.js\",\"814\",\"static/chunks/app/(app)/layout-75787b50de0e433c.js\"],\"PeekabooLink\"]\n10:I[4543,[\"779\",\"static/chunks/779-472e799fbaad2d23.js\",\"739\",\"static/chunks/739-21a149fe09547639.js\",\"138\",\"static/chunks/138-7f27ef5cd2caf4b4.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"594\",\"static/chunks/594-71c3251836d38f7c.js\",\"878\",\"static/chunks/app/(app)/posts/%5Bid%5D/page-6bb6cd9ad97d098b.js\"],\"Image\"]\n11:I[2962,[\"245\",\"static/chunks/245-4d9cc7d916e46c69.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"185\",\"static/chunks/app/layout-d7953313cc6bdbf6.js\"],\"default\"]\n12:I[7808,[\"245\",\"static/chunks/245-4d9cc7d916e46c69.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"185\",\"static/chunks/app/layout-d7953313cc6bdbf6.js\"],\"default\"]\n13:I[5433,[\"245\",\"static/chunks/245-4d9cc7d916e46c69.js\",\"857\",\"static/chunks/857-68a2fd358cb70760.js\",\"185\",\"static/chunks/app/layout-d7953313cc6bdbf6.js\"],\"ThemeProvider\"]\n14:I[3970,[\"779\",\"static/chunks/779-472e799fbaad2d23.js\",\"739\",\"static/chunks/739-21a149fe09547639.js\",\"160\",\"static/chunks/app/not-found-60c0c9286c67016b.js\"],\"default\"]\n16:I[2716,[],\"\"]\na:[\"id\",\"code-manager-way\",\"d\"]\n17:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://blog-omega-five-74.vercel.app/_next/static/css/8cd2eb158671e11e.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"oYoY4vLmhj0baYGBZbHXn\",\"assetPrefix\":\"https://blog-omega-five-74.vercel.app\",\"initialCanonicalUrl\":\"/posts/code-manager-way\",\"initialTree\":[\"\",{\"children\":[\"(app)\",{\"children\":[\"posts\",{\"children\":[[\"id\",\"code-manager-way\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"code-manager-way\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"(app)\",{\"children\":[\"posts\",{\"children\":[[\"id\",\"code-manager-way\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",[\"$\",\"div\",null,{\"className\":\"sm:px-8 mt-10 lg:mt-16\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative px-4 sm:px-8 lg:px-12 !px-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"w-full md:flex md:justify-between xl:relative gap-1\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"hidden w-[160px] shrink-0 lg:block\",\"children\":[\"$\",\"div\",null,{\"className\":\"sticky top-2 pt-16\",\"children\":[\"$\",\"$L5\",null,{}]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-4xl md:flex-1 md:shrink-0 \",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"/posts\",\"className\":\"group mb-8 flex h-10 w-10 items-center justify-center bg-white dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:hover:border-zinc-700 lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0 group rounded-full bg-gradient-to-b from-zinc-50/50 to-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:from-zinc-900/50 dark:to-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20\",\"aria-label\":\"返回博客页面\",\"children\":[\"$\",\"svg\",null,{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"className\":\"h-8 w-8 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400\",\"children\":[\"$\",\"path\",null,{\"d\":\"M8.03089 4C6.57669 5.05865 5.2706 6.29537 4.14485 7.67887C4.04828 7.79755 4 7.94044 4 8.08333M8.03089 12.1667C6.57669 11.108 5.2706 9.8713 4.14485 8.4878C4.04828 8.36912 4 8.22623 4 8.08333M4 8.08333H14.963C17.7448 8.08333 20 10.3033 20 13.0417C20 15.7801 17.7448 18 14.963 18H12\",\"stroke\":\"currentColor\",\"strokeWidth\":\"2\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\"}]}]}],[\"$\",\"article\",null,{\"data-postid\":\"posts/code-manager.mdx\",\"className\":\"rich-text-viewer prose px-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8 text-center\",\"children\":[\"$undefined\",[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold\",\"children\":\"multi-repo 和 mono-repo 代码管理方式了解（附实践源码）\"}],[\"$\",\"div\",null,{\"className\":\"flex justify-center rounded-md  h-5 items-center space-x-4 text-sm\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2024-07-03T00:00:00.000Z\",\"className\":\"mb-1 text-xs text-gray-600\",\"children\":\"2024-07-03\"}],[\"$\",\"$L7\",null,{\"orientation\":\"vertical\"}],[\"$\",\"span\",null,{\"className\":\"mb-1 text-xs text-gray-600 flex items-center\",\"children\":[[\"$\",\"svg\",null,{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"className\":\"mr-2\",\"children\":[\"$\",\"path\",null,{\"d\":\"M10.1912 12.5508C10.3071 12.1942 10.3071 11.8058 10.1912 11.4492C9.22165 8.46673 4.40272 8.00546 4.01443 4.48436C3.93458 3.76031 4.18955 3.04013 4.69671 2.55723C5.28193 2 6.62415 2 9.30861 2H14.6914C17.3759 2 18.7181 2 19.3033 2.55723C19.8104 3.04013 20.0654 3.76031 19.9856 4.48436C19.5973 8.00546 14.7784 8.46673 13.8088 11.4492C13.6929 11.8058 13.6929 12.1942 13.8088 12.5508C14.7784 15.5333 19.5973 15.9945 19.9856 19.5156C20.0654 20.2397 19.8104 20.9599 19.3033 21.4428C18.7181 22 17.3758 22 14.6914 22L9.3086 22C6.62415 22 5.28192 22 4.69671 21.4428C4.18955 20.9599 3.93458 20.2397 4.01442 19.5156C4.40272 15.9945 9.22164 15.5333 10.1912 12.5508Z\",\"stroke\":\"currentColor\",\"strokeWidth\":\"2\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\"}]}],\" \",15,\" 分钟\"]}]]}],[\"$\",\"div\",null,{\"className\":\"flex w-full justify-center gap-2 mt-2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"inline-flex items-center px-2 h-5 rounded-md text-xs  bg-gray-300 text-gray-800\",\"children\":\"multi-repo\"}],[\"$\",\"span\",null,{\"className\":\"inline-flex items-center px-2 h-5 rounded-md text-xs  bg-gray-300 text-gray-800\",\"children\":\"mono-repo\"}],[\"$\",\"span\",null,{\"className\":\"inline-flex items-center px-2 h-5 rounded-md text-xs  bg-gray-300 text-gray-800\",\"children\":\"代码仓库管理\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-gray-200 dark:bg-gray-600 relative p-4 rounded-md mt-4\",\"children\":[[\"$\",\"svg\",null,{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"className\":\"absolute left-4 top-4\",\"children\":[\"$\",\"path\",null,{\"d\":\"M8 8H8.01M3.11768 7.65876L3.07447 8.47968C2.99172 10.0518 2.95035 10.8379 3.1001 11.5811C3.23281 12.2399 3.47524 12.8716 3.81725 13.45C4.20315 14.1026 4.75976 14.6593 5.87297 15.7725L8.29448 18.194C9.6106 19.5101 10.2687 20.1682 10.9743 20.5277C12.4003 21.2543 14.0881 21.2543 15.5142 20.5277C16.2198 20.1682 16.8778 19.5101 18.194 18.194C19.5101 16.8778 20.1682 16.2198 20.5277 15.5142C21.2543 14.0881 21.2543 12.4003 20.5277 10.9743C20.1682 10.2687 19.5101 9.6106 18.194 8.29448L15.7725 5.87298C14.6593 4.75976 14.1026 4.20315 13.45 3.81725C12.8716 3.47524 12.2399 3.23281 11.5811 3.1001C10.8379 2.95035 10.0518 2.99172 8.47968 3.07447L7.65876 3.11768C6.13396 3.19793 5.37156 3.23805 4.78079 3.55489C4.26041 3.83397 3.83397 4.26041 3.55489 4.78079C3.23805 5.37156 3.19793 6.13396 3.11768 7.65876ZM8.4895 7.98767C8.4895 8.26381 8.26564 8.48767 7.9895 8.48767C7.71336 8.48767 7.4895 8.26381 7.4895 7.98767C7.4895 7.71153 7.71336 7.48767 7.9895 7.48767C8.26564 7.48767 8.4895 7.71153 8.4895 7.98767Z\",\"stroke\":\"currentColor\",\"strokeWidth\":\"2\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\"}]}],[\"$\",\"p\",null,{\"className\":\"text-gray-700 dark:text-gray-300\",\"children\":\"这篇文章深入探讨了代码仓库管理的两种主要方式:multi-repo和 mono-repo。文章详细介绍了它们的概念、优缺点和适用场景。重点讲解了 mono-repo 的实践,包括使用 pnpm 和 Turborepo 两种工具来搭建 mono-repo 项目。文章通过实际操作步骤,演示了如何设置工作空间、管理依赖、配置构建任务等。对于想要了解和实践 mono-repo 的开发者来说,这是一篇全面且实用的指南,提供了从基础到进阶的 mono-repo 知识和技巧。\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"js-toc-content\",\"children\":[[\"$\",\"h2\",null,{\"id\":\"了解代码仓库管理方式\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#了解代码仓库管理方式\",\"children\":\"了解代码仓库管理方式\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"multi-repo\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#multi-repo\",\"children\":\"multi-repo\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"全称：Multiple Repositories 多仓库\\nMulti-repo是指每个项目或组件都有自己独立的版本控制仓库。这种方法的特点包括：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"每个项目有独立的代码库和版本控制历史\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"项目之间保持分离，可以使用不同的框架、语言或技术\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"更高的代码安全性，因为每个仓库都是独立的\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"适合大型项目或有多个独立团队的组织\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"我们业务项目基本上都是 multi-repo，但是multi-repo 项目如果要开发多个库，然后这些库互相有依赖关系，那么协同就很麻烦，就比如 React 项目，我们知道 React 项目下面有 React 核心库、React DOM、React Native ，这些模块之间有许多共享的代码和依赖。使用 mono-repo 可以让这些模块共享同一份代码库，从而避免代码重复，提高代码复用性。好了，我们来了解一下 mono-repo 吧！\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"mono-repo\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#mono-repo\",\"children\":\"mono-repo\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"全称：Monolithic Repository 单一仓库\\nMono-repo是指在单个版本控制仓库中包含多个项目或组件。其特点包括：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"所有项目共享同一个代码库和版本控制历史\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"促进代码共享和集中管理\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"简化依赖管理\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"适合中小型项目或需要紧密集成的相关项目\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"上面也说了，类似 React 这样的项目，使用 mono-repo 就再适合不过了，但是 mono-repo 的缺点也是有的，\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"性能：随着仓库内容的增大，在单个存储库中跨不同函数和上下文组合代码可能会减慢代码拉取操作的速度。这对新加入的开发人员或 CI/CD（全称是“Continuous Integration/Continuous Deployment”，意思是“持续集成/持续部署”。） 系统可能造成影响。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"权限控制困难：对于大型组织，可能难以在单一仓库中实现细粒度的访问控制，可能导致安全风险\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"技术栈限制： mono-repo 可能鼓励使用统一的技术栈，这可能限制了在特定项目中使用最适合的技术\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"所以，选择使用 mono-repo 作为仓库管理方式需要考虑清楚。我们接下来就实践一下吧！\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"mono-repo-实践\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#mono-repo-实践\",\"children\":\"mono-repo 实践\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"可以按照简单和复杂的维度来进行技术选择\\n简单的工具：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"npm workspace：\",[\"$\",\"a\",null,{\"href\":\"https://docs.npmjs.com/cli/v7/using-npm/workspaces\",\"children\":\"https://docs.npmjs.com/cli/v7/using-npm/workspaces\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"yarn workspace：\",[\"$\",\"a\",null,{\"href\":\"https://classic.yarnpkg.com/lang/en/docs/workspaces/\",\"children\":\"https://classic.yarnpkg.com/lang/en/docs/workspaces/\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"pnpm workspace：\",[\"$\",\"a\",null,{\"href\":\"https://pnpm.io/workspaces\",\"children\":\"https://pnpm.io/workspaces\"}],\"（推荐阅读：\",[\"$\",\"a\",null,{\"href\":\"https://juejin.cn/post/7127295203177676837\",\"children\":\"https://juejin.cn/post/7127295203177676837\"}],\"）\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"专业的工具：\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"lerna：\",[\"$\",\"a\",null,{\"href\":\"https://www.lernajs.cn/\",\"children\":\"https://www.lernajs.cn/\"}],\"，最初由Sebastian McKenzie创建,他也是Babel的作者。目前Lerna由开源社区维护,主要贡献者来自各大科技公司\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Nx：\",[\"$\",\"a\",null,{\"href\":\"https://nx.dev/\",\"children\":\"https://nx.dev/\"}],\"，Nx Nx由Nrwl公司开发和维护。Nrwl是一家专注于提供企业级开发工具和服务的公司,由前Google员工Victor Savkin和Jeff Cross创立\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Turborepo：\",[\"$\",\"a\",null,{\"href\":\"https://turborepo.org/\",\"children\":\"https://turborepo.org/\"}],\"，最初由Jared Palmer个人开发。2021年,Vercel公司收购了Turborepo,现在由Vercel团队继续开发和维护。Vercel是一家专注于前端开发和部署的公司,以Next.js框架而闻名\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Bazel：\",[\"$\",\"a\",null,{\"href\":\"https://bazel.build/about/intro?hl=zh-cn\",\"children\":\"https://bazel.build/about/intro?hl=zh-cn\"}],\"，由Google开发和维护。它源于Google内部使用的构建工具Blaze,后来被开源并改名为Bazel。Google的大规模mono-repo实践为Bazel的设计提供了丰富的经验\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Rush：\",[\"$\",\"a\",null,{\"href\":\"https://rushjs.io/\",\"children\":\"https://rushjs.io/\"}],\"，Microsoft开发的可扩展mono-repo管理器\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"简单工具pnpm-使用\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#简单工具pnpm-使用\",\"children\":\"简单工具：pnpm 使用\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"对于个人的小项目来说，我们使用 pnpm 就可以了，我们来快速上手一下\\n1）创建文件夹\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"mkdir\"}],\" mono-repo-pnpm\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"cd\"}],\" ./mono-repo-pnpm\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"2）pnpm 初始化\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"pnpm\"}],\" init\\n\"]}]}]}],\"\\n\",[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"初始化pnpm-workspace.yaml + 配置全局代码规范\\n参考：\",[\"$\",\"a\",null,{\"href\":\"https://pnpm.io/zh/pnpm-workspace_yaml\",\"children\":\"https://pnpm.io/zh/pnpm-workspace_yaml\"}],\"，新建 pnpm-workspace.yaml\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"packages\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'packages/*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"指定了 /package 下的所有文件，就是我们 mono-repo 的所有子项目。我们 mono-repo 的初始配置就完成了\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"现在，我们安装一下 全局的代码格式化依赖。这样每个子包都使用统一的代码格式化规范，对了，我们的编辑器需要先有 ESLint 和 Prettier 插件，并在设置中配置一下，\\n\",[\"$\",\"$L8\",null,{\"src\":\"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/1719751228447-c40b7f35-5863-48fa-a241-1ef951fdd8f7.png\",\"alt\":\"image.png\"}],\"\\n然后，我们安装：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"pnpm\"}],\" i eslint \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-D\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-w\"}],\"\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"-w 是 --workspace-root 的别名，即安装到工程根目录，作为所有子模块的公共依赖。也可以用 -r 递归给每个子模块安装，或者用 --filter \",[\"$\",\"code\",null,{\"children\":\"\u003cpackage_name\u003e\"}],\" 给指定子模块安装。然后初始化，我们终端执行：\",[\"$\",\"code\",null,{\"children\":\"npx eslint --init\"}],\"(我们需要选择一些配置，选择好后会生成一个 eslint.config.mjs 文件给我们），然而，可能你会遇到这样的提示：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\" WARN  Issues with peer dependencies found\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\".\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"├─┬ @typescript-eslint/parser \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7.14\"}],\".1\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"│ └── ✕ unmet peer eslint@^8.56.0: found \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"9.6\"}],\".0\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"└─┬ typescript-eslint \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7.14\"}],\".1\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  ├── ✕ unmet peer eslint@^8.56.0: found \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"9.6\"}],\".0\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  └─┬ @typescript-eslint/eslint-plugin \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7.14\"}],\".1\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    ├── ✕ unmet peer eslint@^8.56.0: found \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"9.6\"}],\".0\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    ├─┬ @typescript-eslint/utils \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7.14\"}],\".1\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    │ └── ✕ unmet peer eslint@^8.56.0: found \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"9.6\"}],\".0\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    └─┬ @typescript-eslint/type-utils \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7.14\"}],\".1\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      └── ✕ unmet peer eslint@^8.56.0: found \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"9.6\"}],\".0\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"我们可以执行：\",[\"$\",\"code\",null,{\"children\":\"pnpm install eslint@^8.56.0 -D\"}],\",这是提示 eslint 版本与某些依赖项的预期版本不匹配，我们安装匹配的就好\\n我们继续安装 ts 的 eslint 插件 和 prettier 的依赖\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"pnpm\"}],\" i \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-D\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-w\"}],\" @typescript-eslint/eslint-plugin prettier eslint-config-prettier eslint-plugin-prettier\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"然后，我们来创建对应的配置文件，先创建 \",[\"$\",\"code\",null,{\"children\":\".prettierrc.json\"}]]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-json code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"printWidth\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"80\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"tabWidth\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"useTabs\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"singleQuote\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"semi\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"trailingComma\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"none\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"bracketSpacing\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"再创建 \",[\"$\",\"code\",null,{\"children\":\"tsconfig.json\"}]]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-json code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"include\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"./packages/**/*\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"compileOnSave\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"compilerOptions\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"target\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"ESNext\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"useDefineForClassFields\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"module\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"ESNext\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"lib\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"ESNext\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"DOM\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"moduleResolution\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Node\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"strict\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"sourceMap\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"resolveJsonModule\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"isolatedModules\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"esModuleInterop\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"noEmit\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"noUnusedLocals\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"noUnusedParameters\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"noImplicitReturns\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"skipLibCheck\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"baseUrl\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"./packages\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"再修改 \",[\"$\",\"code\",null,{\"children\":\"eslint.config.mjs\"}]]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":\"pluginJs\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@eslint/js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":\"globals\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'globals'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":\"tseslint\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'typescript-eslint'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"files\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'**/*.{js,mjs,cjs,ts}'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"languageOptions\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"globals\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" globals\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"browser\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tpluginJs\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"configs\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"recommended\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token spread operator\",\"children\":\"...\"}],\"tseslint\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"configs\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"recommended\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"env\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"browser\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"es2021\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"node\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"extends\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'eslint:recommended'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'plugin:@typescript-eslint/recommended'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'prettier'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'plugin:prettier/recommended'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"parser\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@typescript-eslint/parser'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"parserOptions\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"ecmaVersion\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'latest'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"sourceType\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'module'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"plugins\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@typescript-eslint'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'prettier'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token literal-property property\",\"children\":\"rules\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'prettier/prettier'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'error'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'no-case-declarations'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'off'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'no-constant-condition'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'off'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token string-property property\",\"children\":\"'@typescript-eslint/ban-ts-comment'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'off'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"现在，我们的项目就完成了代码自动进行报错提示，和保存格式化，我们可以在 packeage.json 中添加脚本\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-json code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"lint\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"eslint --ext .ts,.js,.jsx,.tsx --fix --quiet ./packages\\\"\"}],\"\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"4）创建子项目\\n我们创建两个子项目并初始化\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"mkdir\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-p\"}],\" packages/common packages/app\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"初始化，每个子项目\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"cd\"}],\" packages/common\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"pnpm\"}],\" init\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"cd\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"..\"}],\"/app\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"pnpm\"}],\" init\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"cd\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"..\"}],\"/\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"..\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"修改子项目 package.json 文件，这代表了下载子包的安装命名，也代表这些包都归属于 mono-repo-pnpm 包\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-json code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// packages/app\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"name\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"@mono-repo-pnpm/app\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"  ...\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// packages/common\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"name\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"@mono-repo-pnpm/common\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"  ...\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"5）在common包中添加一些共享代码\\n在 packages/common/index.js 中添加:\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'执行了了common.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"exports\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method-variable function-variable method function property-access\",\"children\":\"sayHello\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token parameter\",\"children\":\"name\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token arrow operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"Hello, \"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"$${\"}],\"name\",[\"$\",\"span\",null,{\"className\":\"token interpolation-punctuation punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token template-punctuation string\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"6）在app包中使用common包\\n首先,在 app 包的 package.json 中添加对 common 包的依赖:\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-json code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"dependencies\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"@mono-repo-pnpm/common\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"workspace:*\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"然后在 packages/app/index.js 中使用 common 包:\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-javascript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" sayHello \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"require\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@mono-repo-pnpm/common'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token console class-name\",\"children\":\"console\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token method function property-access\",\"children\":\"log\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"sayHello\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Monorepo'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"我们刚好可以测试一下在全局配置的代码规范也是生效的， 保存的时候如果写的不符合规范，我们就会看到提示，保存也会自动格式化\\n7）终端执行：\",[\"$\",\"code\",null,{\"children\":\"node ./packages/app\"}],\"，我们可以看到：\\n\",[\"$\",\"$L8\",null,{\"src\":\"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/1719756062777-d1066c93-59f9-441a-89ce-0a4292d678eb.png\",\"alt\":\"image.png\"}],\"\\n这就是通过 mono-repo 的本地依赖能力，如果不使用 mono-repo，我们可能需要通过 npm link 来解决，非常麻烦\\n8）我们在根目录安装一个依赖 lodash，然后在子目录可通过 \",[\"$\",\"code\",null,{\"children\":\"\\\"lodash\\\": \\\"*\\\",\"}],\" 来使用 根目录的 lodash。实现根目标管理所有的包9)我们可以在每个 \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" 中，添加一个脚本，例如：\",[\"$\",\"code\",null,{\"children\":\"\\\"dev\\\": \\\"node index.js\\\"\"}],\"。然后根目录执行 \",[\"$\",\"code\",null,{\"children\":\"pnpm -r dev\"}],\"。这样我们就可以在一行代码执行所有的子项目的 dev 脚本。\\n通过这个基础的 mono-repo 的项目，我们使用了 mono-repo 的如下能力\"]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"工作空间管理: 通过pnpm-workspace.yaml轻松管理多个包。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"依赖共享: 子项目可以共享依赖,节省磁盘空间。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"本地依赖: 可以使用workspace:*语法引用本地包。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"统一版本控制: 可以在根目录管理所有包的版本。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"并行执行: 可以并行运行多个包的脚本。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"专业工具turborepo-使用\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#专业工具turborepo-使用\",\"children\":\"专业工具：turborepo 使用\"}]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"操作系统： macos，如果你是使用 windows ，可能有些地方不一样\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"我们全局安装 turbo，执行命令 \",[\"$\",\"code\",null,{\"children\":\"pnpm install turbo --global\"}],\"，如果你也报错：\\n\",[\"$\",\"$L8\",null,{\"src\":\"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/1717916747666-00652358-c37c-4816-b396-5c336ddf79ff.png\",\"alt\":\"image.png\"}],\"\\n不要着急，跟我我一步步修复这个报错，这是因为没有正确配置了你的环境变量和全局目录\\n1）我们先按照提示执行：pnpm setup ，然后再次执行全局安装 turbo命令，如果这时候依然提示上面的报错，或者类似这样的报错\\n\",[\"$\",\"$L8\",null,{\"src\":\"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/1717917291588-5e432a15-352a-4f0e-9a7f-b4b94ec9ff91.png\",\"alt\":\"image.png\"}],\" 2)我们执行：\",[\"$\",\"code\",null,{\"children\":\"nano ~/.bashrc\"}],\" 或者 \",[\"$\",\"code\",null,{\"children\":\"nano ~/.zshrc\"}],\",添加以下内容：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":\"PNPM_HOME\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":[\"\\\"\",[\"$\",\"span\",null,{\"className\":\"token environment constant\",\"children\":\"$$HOME\"}],\"/.pnpm\\\"\"]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token assign-left variable\",\"children\":[\"$\",\"span\",null,{\"className\":\"token environment constant\",\"children\":\"PATH\"}]}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":[\"\\\"\",[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":\"$$PNPM_HOME\"}],\":\",[\"$\",\"span\",null,{\"className\":\"token environment constant\",\"children\":\"$$PATH\"}],\"\\\"\"]}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"我们先保存(** ctrl + o 组合键**)，系统会询问你是否要保存所做的更改，我们\",[\"$\",\"strong\",null,{\"children\":\"按下回车键\"}],\"，然后我们关闭( \",[\"$\",\"strong\",null,{\"children\":\"ctrl + x 组合键\"}],\")文件，然后重新加载配置文件：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"source\"}],\" ~/.bashrc  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 或者 source ~/.zshrc\"}],\"\\n\"]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"我们来验证一下是否配置成功：\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 确认环境变量已正确设置\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"echo\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":\"$$PNPM_HOME\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"echo\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token environment constant\",\"children\":\"$$PATH\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"# 确保 PNPM_HOME 目录存在，并且包含 pnpm 安装的全局包：\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"ls\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token variable\",\"children\":\"$$PNPM_HOME\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"如果这俩都没有报错，那么就说明配置成功，我们重新执行全局安装 turbo 命令，这里应该能够安装成功\\n\",[\"$\",\"$L8\",null,{\"src\":\"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/1717917677812-1bca684a-23ce-489d-bd5a-070dc38b659b.png\",\"alt\":\"image.png\"}],\"\\n3）全局安装成功 turbo 后，我们执行 \",[\"$\",\"code\",null,{\"children\":\"npx create-turbo@latest\"}],\",\\n\",[\"$\",\"$L8\",null,{\"src\":\"https://blog-1304565468.cos.ap-shanghai.myqcloud.com/work/1719761825547-28374898-dc71-4e1c-8adc-c866c177229a.png\",\"alt\":\"image.png\"}],\" 4)项目目录了解。turpo-repo 来解决复杂 mono-repo 项目，打包性能问题\"]}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-bash code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"my-turborepo/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"├── apps/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"│   ├── docs/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"│   └── web/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"├── packages/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"│   ├── eslint-config-custom/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"│   ├── tsconfig/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"│   └── ui/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"├── turbo.json\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"└── package.json\\n\"}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"5）turbo.json 了解，turbo.json 是 Turbo 的核心配置文件。它定义了任务之间的依赖关系，\"}],\"\\n\",[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-json code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"$schema\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"https://turbo.build/schema.json\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"tasks\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"build\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"dependsOn\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"^build\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"inputs\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"$TURBO_DEFAULT$\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\".env*\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"outputs\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\".next/**\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"!.next/cache/**\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"lint\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"dependsOn\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"^lint\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"dev\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"cache\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"persistent\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"\\\"$schema\\\": 指定了 JSON schema 的位置，用于验证配置文件的正确性。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"\\\"tasks\\\": 定义了项目中的各种任务。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\\"build\\\" 任务:\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"\\\"dependsOn\\\": [\\\"^build\\\"]: 表示此任务依赖于所有工作空间中的 build 任务。^ 符号表示只考虑当前包的依赖项。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"\\\"inputs\\\": [\\\"$TURBO_DEFAULT$\\\", \\\".env*\\\"]: 指定任务的输入文件。$TURBO_DEFAULT$ 是 Turbo 的默认输入集，.env* 表示所有 .env 文件。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\\"outputs\\\": [\\\".next/\",[\"$\",\"strong\",null,{\"children\":\"\\\", \\\"!.next/cache/\"}],\"\\\"]: 指定任务的输出。这里包含了 .next 目录下的所有文件，但排除了 .next/cache 目录。\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\\"lint\\\" 任务:\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"\\\"dependsOn\\\": [\\\"^lint\\\"]: 表示此任务依赖于所有依赖项的 lint 任务。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\\"dev\\\" 任务:\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"\\\"cache\\\": false: 禁用此任务的缓存。\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"\\\"persistent\\\": true: 表示这是一个长期运行的任务，如开发服务器。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"6）在根目录下,您可以运行：\",[\"$\",\"code\",null,{\"children\":\"turbo run build\"}],\"，这将会根据 turbo.json 的配置，并行构建所有的应用和包。我们可以构建两次，会发现第二次构建时间比第一次短，这就是 Turbo的增量构建和缓存机制大大提高了构建速度。\\n最后，我们看一下Turbo的主要能力:\"]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"增量构建: Turbo只重新构建发生变化的部分\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"远程缓存: 可以在团队成员之间共享构建缓存\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"并行执行: Turbo可以并行运行任务,提高效率\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"任务编排: 通过turbo.json定义任务之间的依赖关系\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"单一配置: 使用一个turbo.json文件管理整个monorepo\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"参考\",\"children\":[\"$\",\"a\",null,{\"className\":\"anchor\",\"href\":\"#参考\",\"children\":\"参考：\"}]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"vivo 技术：\",[\"$\",\"a\",null,{\"href\":\"https://segmentfault.com/a/1190000020047120\",\"children\":\"基于 Lerna 管理 packages 的 Monorepo 项目最佳实践\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"turbo，新兴的 monorepo 管理方案：\",[\"$\",\"a\",null,{\"href\":\"https://segmentfault.com/a/1190000042282389\",\"children\":\"https://segmentfault.com/a/1190000042282389\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"我的 pnpm 实现 mono-repo 代码：\",[\"$\",\"a\",null,{\"href\":\"https://github.com/chaseFunny/pnpm-monorepo\",\"children\":\"https://github.com/chaseFunny/pnpm-monorepo\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"我的 turbo 示例代码：\",[\"$\",\"a\",null,{\"href\":\"https://github.com/chaseFunny/turbo-monorepo\",\"children\":\"https://github.com/chaseFunny/turbo-monorepo\"}]]}],\"\\n\"]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex px-4 justify-between mt-8\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"/posts/post-4\",\"className\":\"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2\",\"children\":\"git commit 提交规范中文解释\"}],[\"$\",\"$L6\",null,{\"href\":\"/posts/react-drag-drop-demo\",\"className\":\"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-violet-500 dark:text-violet-300 shadow-sm hover:bg-violet-200 dark:hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2\",\"children\":\"React最简版本低代码实现\"}]]}]]}]]}]}]}]}]}]],null],null]},[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(app)\",\"children\",\"posts\",\"children\",\"$a\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"https://blog-omega-five-74.vercel.app/_next/static/css/cc5160e2067b0cef.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],[[\"$\",\"div\",null,{\"className\":\"sm:px-8 relative mt-16 min-h-screen lg:mt-32\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative px-4 sm:px-8 lg:px-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"absolute inset-0 flex items-center justify-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"animate-pulse text-5xl text-zinc-500/50\",\"children\":[\"$\",\"svg\",null,{\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[\"$\",\"path\",null,{\"d\":\"M16.5609 7.43931C15.7777 5.41156 14.0301 4 12 4C9.96987 4 8.22234 5.41156 7.43913 7.43931M16.5609 7.43931C19.7904 8.10251 22 9.44804 22 11C22 13.2091 17.5228 15 12 15C6.47715 15 2 13.2091 2 11C2 9.44804 4.20962 8.10251 7.43913 7.43931M16.5609 7.43931C16.94 8.42085 17.0719 9.49351 16.9638 10.5391C15.5011 10.8323 13.8065 11 12 11C10.1935 11 8.49887 10.8323 7.03622 10.5391C6.92815 9.49351 7.06001 8.42085 7.43913 7.43931M4 17L3 19M12 18V21M20 17L21 19\",\"stroke\":\"currentColor\",\"strokeWidth\":\"2\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\"}]}]}]}]}]}]}]}],[],[]]]},[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(app)\",\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[[\"$\",\"$Lc\",null,{}],[\"$\",\"div\",null,{\"className\":\"fixed inset-0 flex justify-center sm:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex w-full max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"opacity-95 w-full bg-zinc-50/90 ring-1 ring-zinc-100 dark:bg-zinc-900/80 dark:ring-zinc-400/20\"}]}]}],[\"$\",\"div\",null,{\"className\":\"relative text-zinc-800 dark:text-zinc-200\",\"children\":[[\"$\",\"$Ld\",null,{}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(app)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]}],[\"$\",\"$e\",null,{\"children\":[\"$\",\"footer\",null,{\"className\":\"mt-32\",\"children\":[\"$\",\"div\",null,{\"className\":\"sm:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-7xl lg:px-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative px-4 sm:px-8 lg:px-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-between gap-6 sm:flex-row\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-zinc-500/80 dark:text-zinc-400/80\",\"children\":[\"© \",2025,\" \",\"William Sun\",\" 网站已开源：\",[\"$\",\"$Lf\",null,{\"href\":\"https://github.com/coderPerseus/blog\",\"children\":\"William Sun\"}]]}],[\"$\",\"nav\",null,{\"className\":\"flex gap-6 text-sm font-medium text-zinc-800 dark:text-zinc-200\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"/\",\"className\":\"transition hover:text-violet-500 dark:hover:text-violet-400\",\"children\":\"首页\"}],[\"$\",\"$L6\",null,{\"href\":\"/posts\",\"className\":\"transition hover:text-violet-500 dark:hover:text-violet-400\",\"children\":\"博客\"}],[\"$\",\"$L6\",null,{\"href\":\"/about\",\"className\":\"transition hover:text-violet-500 dark:hover:text-violet-400\",\"children\":\"关于我\"}]]}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"relative px-4 sm:px-8 lg:px-12 mt-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-start gap-2 sm:flex-row\",\"children\":\"欢迎 👏🏻 你的访问\"}]}]}],[\"$\",\"div\",null,{\"className\":\"flex justify-center p-6 flex-col sm:flex-row\",\"children\":[[\"$\",\"$L6\",null,{\"target\":\"_blank\",\"href\":\"https://beian.miit.gov.cn/\",\"className\":\"text-blue-600 flex justify-center items-center\",\"children\":[[\"$\",\"$L10\",null,{\"unoptimized\":true,\"src\":\"/blog/police.png\",\"width\":18,\"height\":18,\"alt\":\"备案\",\"className\":\"mr-1 \"}],\"辽公网安备21021202000334号\"]}],[\"$\",\"$L6\",null,{\"target\":\"_blank\",\"href\":\"https://beian.miit.gov.cn/\",\"className\":\"text-blue-600 pl-6 flex justify-center items-center\",\"children\":\"辽ICP备2021012379号-1\"}]]}]]}]}]}]}]}]]}]],null],null]},[[\"$\",\"html\",null,{\"className\":\" m-0 h-full p-0 font-sans antialiased\",\"lang\":\"zh-CN\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"$L11\",null,{}],[\"$\",\"$L12\",null,{}],[\"$\",\"$L13\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"$L14\",null,{}],\"notFoundStyles\":[],\"styles\":null}]}]]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$L15\"],\"globalErrorComponent\":\"$16\",\"missingSlots\":\"$W17\"}]]\n"])</script><script>self.__next_f.push([1,"15:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: dark)\",\"content\":\"#000212\"}],[\"$\",\"meta\",\"2\",{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: light)\",\"content\":\"#fafafa\"}],[\"$\",\"meta\",\"3\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"4\",{\"children\":\"multi-repo 和 mono-repo 代码管理方式了解（附实践源码） | William Sun\"}],[\"$\",\"meta\",\"5\",{\"name\":\"description\",\"content\":\"这篇文章深入探讨了代码仓库管理的两种主要方式:multi-repo和 mono-repo。文章详细介绍了它们的概念、优缺点和适用场景。重点讲解了 mono-repo 的实践,包括使用 pnpm 和 Turborepo 两种工具来搭建 mono-repo 项目。文章通过实际操作步骤,演示了如何设置工作空间、管理依赖、配置构建任务等。对于想要了解和实践 mono-repo 的开发者来说,这是一篇全面且实用的指南,提供了从基础到进阶的 mono-repo 知识和技巧。\"}],[\"$\",\"link\",\"6\",{\"rel\":\"manifest\",\"href\":\"/site.webmanifest\",\"crossOrigin\":\"use-credentials\"}],[\"$\",\"meta\",\"7\",{\"name\":\"keywords\",\"content\":\"multi-repo,mono-repo,代码仓库管理\"}],[\"$\",\"meta\",\"8\",{\"name\":\"baidu-site-verification\",\"content\":\"codeva-7AmpPWgzQY\"}],[\"$\",\"meta\",\"9\",{\"name\":\"google-site-verification\",\"content\":\"TTbfOvWmLj0icfk0BQNUZB3crwReji82Q_vRdnZFFAc\"}],[\"$\",\"link\",\"10\",{\"rel\":\"canonical\",\"href\":\"https://dhc.ink/posts/code-manager-way\"}],[\"$\",\"link\",\"11\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"title\":\"RSS 订阅\",\"href\":\"https://luckysnail.cn/rss\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:title\",\"content\":\"multi-repo 和 mono-repo 代码管理方式了解（附实践源码）\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:description\",\"content\":\"这篇文章深入探讨了代码仓库管理的两种主要方式:multi-repo和 mono-repo。文章详细介绍了它们的概念、优缺点和适用场景。重点讲解了 mono-repo 的实践,包括使用 pnpm 和 Turborepo 两种工具来搭建 mono-repo 项目。文章通过实际操作步骤,演示了如何设置工作空间、管理依赖、配置构建任务等。对于想要了解和实践 mono-repo 的开发者来说,这是一篇全面且实用的指南,提供了从基础到进阶的 mono-repo 知识和技巧。\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:creator\",\"content\":\"@haozhan05554957\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:title\",\"content\":\"William Sunblog | 前端 | 开发者\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:description\",\"content\":\"我是William Sun，一名充满热情的前端开发工程师。我热衷于探索和体验最新技术，特别是人工智能（AI），并在日常工作中去使用它们，来提升我的工作效率。我的目标是积极参与开源社区，为开源项目贡献自己的力量。正如我的名字，我相信越努力，越幸运\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:image\",\"content\":\"https://luckysnail.cn/og.png\"}],[\"$\",\"link\",\"19\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"32x32\"}],[\"$\",\"link\",\"20\",{\"rel\":\"icon\",\"href\":\"/icon.jpg?021a5ddd40907a91\",\"type\":\"image/jpeg\",\"sizes\":\"256x256\"}],[\"$\",\"link\",\"21\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.jpg?58f0c05bf91c4519\",\"type\":\"image/jpeg\",\"sizes\":\"1022x1023\"}]]\n"])</script><script>self.__next_f.push([1,"4:null\n"])</script></body></html>