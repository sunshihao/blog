"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,n){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.export?module.exports=n:e.zoom=n}(window,function(e){function n(e,n){var t=null;return function(){clearTimeout(t),t=setTimeout(e,n)}}function t(){if(T.length<1)return window.removeEventListener("scroll",w);for(var e=T.length;e--;)K(T[e])&&D(T[e],e)}function o(){N=window.innerWidth,B=window.innerHeight,F=N-2*u-2*p,R=B-2*u-2*p,Q&&_(Z())}function i(e){var n=(e=e||window.event).target||e.srcElement;"img"===n.nodeName.toLowerCase()&&0<=n.index&&(Q=M(j,"index",n.index)[0],J())}function r(e){V||(37===e.keyCode&&$(),39===e.keyCode&&ee(),27===e.keyCode&&W())}function a(e){e.stopPropagation()}function l(e){e.target.classList.contains("zoom-box")&&(S=!0,z.removeEventListener("transitionend",l),V&&(Q=null,x.style.display="none",document.body.style.overflow="initial"))}function d(e){return e+"px"}function s(){var e=j[Q],n=e.src;if(!n&&e.getAttribute(h)){n=e.getAttribute(h);var t=M(T,"index",e.index);D(e,t)}z.querySelector(".zoom-loading")&&z.querySelector(".zoom-loading").remove(),z.querySelector(".zoom-error")&&z.querySelector(".zoom-error").remove(),z.querySelector(".zoom-img")&&z.querySelector(".zoom-img").remove(),z.appendChild(C);var o=document.createElement("img");o.className="zoom-img",o.src=n,o.onload=function(){C.remove(),z.appendChild(o),_(Z())},o.onerror=function(){C.remove(),z.appendChild(E)},0==Q?z.querySelector("#prev-btn")&&L.remove():z.querySelector("#prev-btn")||z.appendChild(L),Q>=j.length-1?z.querySelector("#next-btn")&&k.remove():z.querySelector("#next-btn")||z.appendChild(k)}var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},m=c.zIndex||999,u=0<=c.margin?c.margin:10,p=0<=c.padding?c.padding:10,g=0<=c.radius?c.radius:4,A=c.specify||null,v=c.filter||null,f=c.lazyLoad||!1,h=c.original||"data-original",y=.4,w=void 0,b=void 0,x=void 0,z=void 0,C=void 0,E=void 0,L=void 0,k=void 0,I=void 0,Q=null,S=!0,V=!0,q=void 0,N=window.innerWidth,B=window.innerHeight,F=void 0,R=void 0,j=[],T=[],U=function(){var e="\n      .zoom-mask {\n        display: none;\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: "+m+";\n        transition: all "+y+"s ease;\n        -o-transition: all "+y+"s ease;\n        -ms-transition: all "+y+"s ease;\n        -moz-transition: all "+y+"s ease;\n        -webkit-transition: all "+y+"s ease;\n        transform: translate3d(0,0,0);\n        -o-transform: translate3d(0,0,0);\n        -moz-transform: translate3d(0,0,0);\n        -webkit-transform: translate3d(0,0,0);\n      }\n      .zoom-box {\n        position: fixed;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: "+p+"px;\n        background-color: #FFF;\n        border-radius: "+g+"px;\n        overflow: hidden;\n        box-sizing: content-box;\n        transition: all "+y+"s ease;\n        -o-transition: all "+y+"s ease;\n        -ms-transition: all "+y+"s ease;\n        -moz-transition: all "+y+"s ease;\n        -webkit-transition: all "+y+"s ease;\n        transform: translate3d(0,0,0);\n        -o-transform: translate3d(0,0,0);\n        -moz-transform: translate3d(0,0,0);\n        -webkit-transform: translate3d(0,0,0);\n      }\n      .zoom-box:hover .zoom-btn {\n        opacity: 1;\n      }\n      .zoom-img {\n        display: block;\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n      .zoom-btn {\n        position: absolute;\n        opacity: 0;\n        width: 30px;\n        height: 30px;\n        top: 0;\n        bottom: 0;\n        margin: auto;\n        cursor: pointer;\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 50%;\n        box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.3);\n        transition: opacity 0.3s ease;\n      }\n      .zoom-btn.prev { left: 20px; }\n      .zoom-btn.next { right: 20px; }\n    ";(I=document.createElement("style")).type="text/css",I.innerHTML=e,document.head.appendChild(I)},D=function(e,n,t){t&&(e.onload=t),e.src=e.getAttribute(h),T.splice(n,1)},M=function(e,t,o){var i=[];return e.forEach(function(e,n){e[t]==o&&i.push(n)}),i},H=function(e){var n=null;return A&&(n=A.split("="))?1<n.length?e.getAttribute(n[0])===n[1]:null!==e.getAttribute(n[0]):!v||!(n=v.split("="))||(1<n.length?e.getAttribute(n[0])!==n[1]:null===e.getAttribute(n[0]))},K=function(e){var n=e.getBoundingClientRect();return n.top<=B&&0<=n.top||0<=n.bottom&&n.bottom<=B},Z=function(){var e=j[Q],n=e.naturalWidth,t=e.naturalHeight,o=void 0,i=void 0;if(F<n||R<t){var r=(F/R).toFixed(2),a=(n/t).toFixed(2);if(a<r)o=(n*(l=(R/t).toFixed(2))).toFixed(2),i=(t*l).toFixed(2);else if(r<a){var l;o=(n*(l=(F/n).toFixed(2))).toFixed(2),i=(t*l).toFixed(2)}else o=n,i=t}else o=n,i=t;return{x:(N-o)/2-p,y:(B-i)/2-p,w:o,h:i}},J=function(){var e,n,t,o;S=V=!1,document.body.style.overflow="hidden",Y((e=j[Q],n=e.getBoundingClientRect(),t=e.width,o=e.height,{x:n.left-p,y:n.top-p,w:t,h:o}))},W=function(){if(!S)return console.log("阻止关闭");var e,n,t,o;S=!(V=!0),_((e=j[Q],n=e.getBoundingClientRect(),t=e.width,o=e.height,{x:n.left-p,y:n.top-p,w:t,h:o}))},G=function(e){var n=document.createElement("img");return n.src="data:image/png;base64,"+("next"===e?"iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEE0lEQVRoQ9WajVEUQRCFuyNQIxAjUCJQIhAjECIQI1AiUCIQIhAiECIQIhAjECJo67uaueqdm9md2Zu7K7rqCup2due9/p/eU3nior3xm9lbEdkLH//4WxF5UNWbnnuuTcDM3ojIRxF5JyL8XyPXInIpIleqel9zQ2nNbAJmBuivGU234oHMqaryt1maCZjZoYh8GwGOizyICC7jBQs9F5HXBZSs/9xKpJqAmbH5z+AqHsNjcIfzms3DcyBzJCLvM2S+B4ughEmpIhD8/FfQYHzoXxFhM4BXbZaiCWRORITPM3cdaxyramrFFUKTBMwMTf1I7jwF/FzgGSJkLZThLYJSDqZIjBLIgMddDmtcZdL2mQVhP4hEa0ySKBIIbvPb7XOH//fSeolg2JeM5Em8Ku2bJRB884/z+a2Aj6QyJG5VdT9HukSAgCVTILjN3qY1n4kLiqL3AGoFdWcgKwRCniddRiGQZhWZOXHg7zEzshM1JwquNKjcOQK4DlkBOVNVHlItYdN/qnpRfdPIQjNDefRXyLWqHvjlAwJJ1ml2nURj1IfjdUlkksnACikBr/2sz40ByqTdXiTOQ8PI9heqSm1ayJJAwrRZ+/GBZuY34+u1SSTYqA3LtOoJUEA+BSADlq1usCESBO/LgOWDqtKODyxAyor9/HJBK/gRS7Ah/c3cvokU+iVNLt4C5sC+mLuRJ5yxBM0ZabmZhJlRl6hPyLKwLQgkF+9UtfZkNWmgziSWSlbVBfZIwHecHPM4tHSTXiTMzMfBPp1qJOD9qzl91jDtQSIpaosOYWsEgqumKZYjJNmvSnZKIHS4BKGPr6ZstzMCBfCkVCxSLWMECNrYgXYN4l7ggwv6VmcQxNkcW62awsKe4AOBfBpNL4rI2oVsA+C9kpe1yldiqmQcOjUFV2qA3uCDgidbiS7N3CbAZ/w/28z5M+igZa2NhQ2C99geVZUp4ULSA40v1c0VOXOGbU6VOWUlVTx/oAlm8j1RsxWSgUAv8Ol0onykDCS8FeYc6heVdmok2OCWfsRzo6px3LPqQoGAL2p89bTGKoGEH2U0u1KtdsfWZaYRdYOtQIAox5XifHL2SWoOmcw4f8V1slnIb5bRwFZIZMCPTkhax+u4E0VkI6PGMFdilBjzPOCZiBdfdMx9wdH0GmjKjcyMUSbA/VF2EvxKISttlBl3s5QYgQiFpXnK4GKNWRTz12V1FRHG+Uc1qXjSApFUaBOY7cRBa7wEeL6/VNWrCm0DlGdQNHPDgzNe39YqpZqAI8KmaD5OyVLM+CvWKb1mLY1s0PpJa3w1E3BE0CAtbonIlDHidd4ro/FZiWE2AUcEjUKGEl96iZ2SAXR0u9381GAk4CFS+rHHfU1g1pquOgu1PHDba/8Dd5pFTyZ20jIAAAAASUVORK5CYII=":"iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEDElEQVRoQ9WajVEVMRDHdytQKxArUCpQKhArECoQK1AqUCoQKxAqECoQKhA6wArW+b1JbvbykndJ3t1Tdobh490l+9/970c2qDxy0bn1N7PXIrIXvvzyNyLyoKrXc+65NQAzeyUi70XkjYjwc41ciciFiFyq6l3NC6VnugGYGUp/zli6VR/AnKoq35ulGYCZHYrIlw2KQ5EHEYEyXvDQUxF5WdCS5z+2AqkGYGZs/iNQxevwJ9DhvGbzsA5gjkTkbQbM1+ARjDApVQACz38GC8ZF70WEzVC8arNUmwDmRET4euI+xxvHqpp6cQ3QJAAzw1LfkjdPUb5X8QwQshbG8B7BKAdTIDYCyCgPXQ5rqDLp+8wDYT+ARG9MgigCCLT55fa5hf9zWb0EMOxLRvIgXpT2zQII3PztOL8T5SOoDIgbVd3PgS4BIGDJFAi02Vva8pm4oCh6BlArqDsjWQMQ8jzpMgqB1FVkeuLAv2NmZCdqThSoNKrcOQBQh6yAnKkqi2wlgZJU7ntVpYWoFjPDePRXyJWqHviXRwCSrDMLdYLyUDL2SftTqTHxQkqlkRdSAN76Wc5Vm05EMsrzehMAXjCz89Aw8ut3VaU2rWQAkKTNra1fUJ7qijJNkuhGbRjSqgdAAfkQVh6hbNqtbPku5ePeZkbwPg+/v4ux5AGQsiJPhwf+B+UDjUihn4I+Q3LxAMwp+6wn789Jm9RwZkZdIhkgQ2FbAUg+vFXV2pPVsM+SyjsaDUZW1ZXuEYDvODnmcWipll0oHwzt42CVzSIAz6+m9Lkr5QMAX9RWHcIcANJyv1W22eT2pCovBoAT2nE1/xoeXAoAZ2Vc6w/ri4DYBICgjR1obxAvDsLMfKszCuJsjm3wbux7FgVhZvk0GiJ8rkK2CIhSrfKVmBFG5PG2rcTsIMxsspWYu5mbFUTC/2wz5w8Oo5a1JRZc2Z8tO6Wtvqqy9krSA40v1U0VOQcyVOnUE8scaEIg+55oay+ENVNPNAHIzKfKR8pMwzTnoR7j3HUc6v2I51pV47hnnUIBgC9q/OlxjVUyXd8sVGpNBBnq1A22HG8J6DifpEbgia4xeqfyfpy/Rp1sFvIbZSywExCZu4iNE5LW8ToeoIgsMmoMgzVGiTHPozwT8eJFR+8FR9M10BSFzIxRJor7o+yk8muFrLRRZtzNo8QIQJghdcVGKHTMojjVDdVVRBjnH9WMICc9kLQGDGbjoDV+hPL8/UJVLyusjaKsQV3IDQ/OuL6tNUo1AAeETbF8nJKlOsNXvFO6Zi2NbLD6SWt8NQNwQLAgLW4JyJQz4ufcK2PxrsTQDcABwaKAocSXLrFTMCgdafdv/tVgQ8ADpPTPHvRCk3e/ta6rzkItC+762b91gEFPa2jwZQAAAABJRU5ErkJggg=="),n.id="next"===e?"next-btn":"prev-btn",n.className="zoom-btn "+e,n.addEventListener("click","next"===e?ee:$),n},O=function(){(x=document.createElement("div")).className="zoom-mask",x.addEventListener("click",W),(z=document.createElement("div")).className="zoom-box",z.addEventListener("click",a),x.appendChild(z),document.body.appendChild(x)},P=function(){var e=document.createElement("div");e.className="zoom-loading",e.innerHTML='\n      <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">\n        <path\n          opacity="0.2"\n          fill="#000"\n          d=" M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\n              s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\n              c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z">\n        </path>\n        <path\n          fill="#000"\n          d=" M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\n              C22.32,8.481,24.301,9.057,26.013,10.047z"\n          transform="rotate(134.48 20 20)">\n          <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatCount="indefinite"></animateTransform>\n        </path>\n      </svg>\n    ',C=e},X=function(){var e=document.createElement("div");e.className="zoom-error",e.innerHTML='\n      <svg t="1576724924240" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3128" width="48" height="48">\n        <path\n          d="M891.552 164.096l-317.76 0.032-29.248 64.352 347.04-0.032a8.96 8.96 0 0 1 8.96 8.96v549.184a8.96 8.96 \n            0 0 1-8.96 8.96h-342.4l-29.248 64.352h371.648a73.408 73.408 0 0 0 \n            73.344-73.344V237.376a73.44 73.44 0 0 0-73.344-73.344zM432.544 \n            795.552H132.448a8.96 8.96 0 0 1-8.96-8.96V237.408a8.96 8.96 0 0 1 \n            8.96-8.96l316.704-0.032 29.248-64.352-345.984 0.032A73.44 73.44 0 0 0 \n            59.072 237.44v549.184a73.408 73.408 0 0 0 73.344 73.344l330.432-0.064 \n            29.248-64.352-59.584 0.064z m-6.976-185.376l-75.936-80.768-145.024 \n            161.76h327.04l42.912-103.872-63.168-103.872-85.824 126.752z m-9.248-240.544a88.032 \n            88.032 0 1 0-176.096 0 88.032 88.032 0 0 0 176.096 0z m158.24 321.536h265.408l-219.2-364-68.896 \n            95.936 91.104 141.504-68.448 126.528z" p-id="3129" data-spm-anchor-id="a313x.7781069.0.i0"\n        ></path>\n      </svg>',E=e},Y=function(e){var n=e.x,t=e.y,o=e.w,i=e.h,r=j[Q].src,a=document.createElement("img");a.src=r,a.className="zoom-img",z.innerHTML="",z.appendChild(a),x.style.display="block",z.style.top=d(t),z.style.left=d(n),z.style.width=d(o),z.style.height=d(i),setTimeout(function(){_({x:N/4,y:B/4,w:N/2,h:B/2}),setTimeout(s,0)},200)},_=function(e){var n=e.x,t=e.y,o=e.w,i=e.h;z.addEventListener("transitionend",l),x.style.backgroundColor=V?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.8)",z.style.top=d(t),z.style.left=d(n),z.style.width=d(o),z.style.height=d(i)},$=function(){0!=Q&&(Q--,s())},ee=function(){Q>=j.length-1||(Q++,s())};return e&&"string"==typeof e&&((q=document.querySelector(e)).addEventListener("click",i),L=G("prev"),k=G("next"),O(),P(),X(),U(),Array.from(q.getElementsByTagName("img")).forEach(function(e,n){H(e)&&(e.index=n,j.push(e),f&&e.getAttribute(h)&&T.push(e))}),w=n(t,400),b=n(o,800),window.addEventListener("resize",b),window.addEventListener("keyup",r),o(),f&&0<T.length&&(window.addEventListener("scroll",w),t())),{destroy:function(){x.removeEventListener("click",W),z.removeEventListener("click",a),q.removeEventListener("click",i),window.removeEventListener("resize",b),window.removeEventListener("keyup",r),f&&0<T.length&&window.removeEventListener("scroll",w),I.remove(),x.remove()}}});